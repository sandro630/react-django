(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getBaseData}),__webpack_require__.d(__webpack_exports__,"n",function(){return register}),__webpack_require__.d(__webpack_exports__,"o",function(){return registerFile}),__webpack_require__.d(__webpack_exports__,"g",function(){return getCorData}),__webpack_require__.d(__webpack_exports__,"k",function(){return getStrand}),__webpack_require__.d(__webpack_exports__,"j",function(){return getStandard}),__webpack_require__.d(__webpack_exports__,"i",function(){return getSearchData}),__webpack_require__.d(__webpack_exports__,"l",function(){return getThumbnailLink}),__webpack_require__.d(__webpack_exports__,"h",function(){return getMyData}),__webpack_require__.d(__webpack_exports__,"d",function(){return getCollectionData}),__webpack_require__.d(__webpack_exports__,"e",function(){return getCollectionDetail}),__webpack_require__.d(__webpack_exports__,"f",function(){return getCollectionDetailFromUUID}),__webpack_require__.d(__webpack_exports__,"t",function(){return shareCollection}),__webpack_require__.d(__webpack_exports__,"a",function(){return changeColTitle}),__webpack_require__.d(__webpack_exports__,"b",function(){return createCollection}),__webpack_require__.d(__webpack_exports__,"q",function(){return removeDoc}),__webpack_require__.d(__webpack_exports__,"p",function(){return removeCollection}),__webpack_require__.d(__webpack_exports__,"m",function(){return getWebThumbnail}),__webpack_require__.d(__webpack_exports__,"r",function(){return removeDocOnFind}),__webpack_require__.d(__webpack_exports__,"s",function(){return removeDocOnHome});var f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),url="http://127.0.0.1:8000",requestingBaseData=function(){return{type:"REQUESTING_BASEDATA"}},receiveResponseBaseData=function(e){return{type:"RECEIVE_RESPONSE_BASEDATA",resp:e}},registerSuccess=function(e){return{type:"REGISTER_SUCCESS",resp:e}},registerFail=function(e){return{type:"REGISTER_FAIL",resp:e}},receiveErrorBaseData=function(e){return{type:"RECEIVE_ERROR_BASEDATA",err:e}},receiveResponseCorData=function(e){return{type:"RECEIVE_RESPONSE_CORDATA",resp:e}},requestingCorData=function(){return{type:"REQUESTING_CORDATA"}},retryUpload=function(){return{type:"NORMAL_STATUS"}},receiveResponseStData=function(e){return{type:"RECEIVE_RESPONSE_STDATA",resp:e}},receiveResponseStNumData=function(e){return{type:"RECEIVE_RESPONSE_STNUMDATA",resp:e}},receiveResponseWebThumbnail=function(e){return{type:"RECEIVE_RESPONSE_WEB_THUMBNAIL",resp:e}},requestingSearchData=function(){return{type:"REQUESTING_SEARCHDATA"}},receiveResponseSearchData=function(e){return{type:"RECEIVE_RESPONSE_SEARCHDATA",resp:e}},receiveResponseMyData=function(e){return{type:"RECEIVE_RESPONSE_MYDATA",resp:e}},receiveResponseCollectionData=function(e){return{type:"RECEIVE_RESPONSE_COLLECTIONDATA",resp:e}},receiveResponseCollectionDetailData=function(e){return{type:"RECEIVE_RESPONSE_COLLECTIONDETAILDATA",resp:e}},receiveResponseCollectionUUID=function(e){return{type:"RECEIVE_RESPONSE_COLLECTION_UUID",resp:e}},receiveResponseHasCollection=function(e){return{type:"RECEIVE_RESPONSE_HAS_COLLECTION",resp:e}},CLIENT_ID="955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",DEVELOPER_KEY="AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0",SCOPE=["https://www.googleapis.com/auth/drive"],DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];function getBaseData(){return function(){var e=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var a,n;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(requestingBaseData()),console.log(localStorage.getItem("GmailID")),console.log(localStorage.getItem("isRegistered")),e.prev=3,e.next=6,fetch("".concat(url,"/auth/basedata/"),{method:"GET",headers:{Accept:"application/json"}});case 6:if((a=e.sent).ok){e.next=9;break}throw new Error("Authorized Request Failed");case 9:return e.next=11,a.json();case 11:return n=e.sent,e.abrupt("return",t(receiveResponseBaseData(n)));case 15:e.prev=15,e.t0=e.catch(3),t(receiveErrorBaseData(e.t0));case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()}function register(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingBaseData()),(n=new URLSearchParams).set("register_info",JSON.stringify(e)),t.prev=3,t.next=6,fetch("".concat(url,"/auth/register/"),{method:"POST",headers:{Accept:"application/json"},body:n});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Authorized Request Failed");case 9:return t.next=11,r.json();case 11:if(o=t.sent,console.log("******",o),!o.RegisterSuccess){t.next=19;break}return localStorage.setItem("isRegistered","true"),window.location="/home",t.abrupt("return",a(registerSuccess(o)));case 19:return localStorage.setItem("isRegistered","false"),t.abrupt("return",a(registerFail(o)));case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),a(receiveErrorBaseData(t.t0));case 26:case"end":return t.stop()}},t,null,[[3,23]])}));return function(e){return t.apply(this,arguments)}}()}function getThumbnailLink(e,t){return function(){var a=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function a(n){return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(requestingCorData()),a.prev=1,a.next=4,fetch("https://www.googleapis.com/drive/v3/files/".concat(e,"/permissions?access_token=").concat(t),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({role:"reader",type:"anyone"})});case 4:if(a.sent.ok){a.next=7;break}throw new Error("Authorized Request Failed");case 7:return a.abrupt("return",n(retryUpload()));case 10:a.prev=10,a.t0=a.catch(1),console.log("failed to get thumbnail link");case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}function getCorData(){return function(){var e=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var a,n,r;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(requestingCorData()),(a=new URLSearchParams).set("GmailID",localStorage.getItem("GmailID")),e.prev=3,e.next=6,fetch("".concat(url,"/auth/cordata/"),{method:"POST",headers:{Accept:"application/json"},body:a});case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("Authorized Request Failed");case 9:return e.next=11,n.json();case 11:return r=e.sent,console.log("cordata",r),e.abrupt("return",t(receiveResponseCorData(r)));case 16:e.prev=16,e.t0=e.catch(3),t(receiveErrorBaseData(e.t0));case 19:case"end":return e.stop()}},e,null,[[3,16]])}));return function(t){return e.apply(this,arguments)}}()}function getStrand(e,t){return function(){var a=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function a(n){var r,o,l;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=new URLSearchParams,""===e||""===t){a.next=20;break}return r.set("selected_subject_triggerword",e),r.set("selected_grade_triggerword",t),r.set("GmailID",localStorage.getItem("GmailID")),a.prev=5,a.next=8,fetch("".concat(url,"/auth/get_strand/"),{method:"POST",headers:{Accept:"application/json"},body:r});case 8:if((o=a.sent).ok){a.next=11;break}throw new Error("Authorized Request Failed");case 11:return a.next=13,o.json();case 13:return l=a.sent,a.abrupt("return",n(receiveResponseStData(l)));case 17:a.prev=17,a.t0=a.catch(5),n(receiveErrorBaseData(a.t0));case 20:case"end":return a.stop()}},a,null,[[5,17]])}));return function(e){return a.apply(this,arguments)}}()}function getStandard(selected_subject_triggerword,selected_grade_triggerword,selected_strand){return function(){var _ref6=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(dispatch){var searchParams,response,responseJson,code;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(searchParams=new URLSearchParams,null===selected_subject_triggerword||null===selected_grade_triggerword){_context6.next=22;break}return searchParams.set("selected_subject_triggerword",selected_subject_triggerword),searchParams.set("selected_grade_triggerword",selected_grade_triggerword),searchParams.set("selected_strand",selected_strand),searchParams.set("GmailID",localStorage.getItem("GmailID")),_context6.prev=6,_context6.next=9,fetch("".concat(url,"/auth/get_standard/"),{method:"POST",headers:{Accept:"application/json"},body:searchParams});case 9:if(response=_context6.sent,response.ok){_context6.next=12;break}throw new Error("Authorized Request Failed");case 12:return _context6.next=14,response.json();case 14:return responseJson=_context6.sent,code=eval("("+responseJson.code+")"),_context6.abrupt("return",dispatch(receiveResponseStNumData(code)));case 19:_context6.prev=19,_context6.t0=_context6.catch(6),dispatch(receiveErrorBaseData(_context6.t0));case 22:case"end":return _context6.stop()}},_callee6,null,[[6,19]])}));return function(e){return _ref6.apply(this,arguments)}}()}function registerFile(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingCorData()),(n=new URLSearchParams).set("upload_file_info",JSON.stringify(e)),console.log(e),t.prev=4,t.next=7,fetch("".concat(url,"/auth/upload_file/"),{method:"POST",headers:{Accept:"application/json"},body:n});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Authorized Request Failed");case 10:return t.next=12,r.json();case 12:if(0!==(o=t.sent).col_id){t.next=18;break}return alert("This document already exist in this collection!"),t.abrupt("return",a(retryUpload()));case 18:null===localStorage.getItem("collection_id")?window.location="/home":window.location="/collection/"+e.collection_pk+"/?new="+o.doc_id;case 19:localStorage.removeItem("collection_id"),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),a(receiveErrorBaseData(t.t0));case 25:case"end":return t.stop()}},t,null,[[4,22]])}));return function(e){return t.apply(this,arguments)}}()}function getMyData(){return function(){var e=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var a,n,r;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(requestingSearchData()),(a=new URLSearchParams).set("GmailID",localStorage.getItem("GmailID")),e.prev=3,console.log("".concat(url,"/auth/getmydata/")),e.next=7,fetch("".concat(url,"/auth/getmydata/"),{method:"POST",headers:{Accept:"application/json"},body:a});case 7:if((n=e.sent).ok){e.next=10;break}throw new Error("Authorized Request Failed");case 10:return e.next=12,n.json();case 12:return r=e.sent,console.log("mydata"),console.log(r),e.abrupt("return",t(receiveResponseMyData(r)));case 18:e.prev=18,e.t0=e.catch(3),t(receiveErrorBaseData(e.t0));case 21:case"end":return e.stop()}},e,null,[[3,18]])}));return function(t){return e.apply(this,arguments)}}()}function getSearchData(e,t,a){return function(){var n=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function n(r){var o,l,s;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(requestingSearchData()),(o=new URLSearchParams).set("GmailID",localStorage.getItem("GmailID")),n.prev=3,console.log(e),o.set("keyword",e),o.set("option",t),o.set("community_id",a),n.next=10,fetch("".concat(url,"/auth/searchdata/"),{method:"POST",headers:{Accept:"application/json"},body:o});case 10:if((l=n.sent).ok){n.next=13;break}throw new Error("Authorized Request Failed");case 13:return n.next=15,l.json();case 15:return s=n.sent,console.log("searchdata",s),n.abrupt("return",r(receiveResponseSearchData(s)));case 20:n.prev=20,n.t0=n.catch(3),r(receiveErrorBaseData(n.t0));case 23:case"end":return n.stop()}},n,null,[[3,20]])}));return function(e){return n.apply(this,arguments)}}()}function getCollectionData(){return function(){var e=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var a,n,r;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(requestingSearchData()),(a=new URLSearchParams).set("GmailID",localStorage.getItem("GmailID")),e.prev=3,e.next=6,fetch("".concat(url,"/auth/collectiondata/"),{method:"POST",headers:{Accept:"application/json"},body:a});case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("Authorized Request Failed");case 9:return e.next=11,n.json();case 11:return r=e.sent,e.abrupt("return",t(receiveResponseCollectionData(r)));case 15:e.prev=15,e.t0=e.catch(3),t(receiveErrorBaseData(e.t0));case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()}function getCollectionDetail(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingSearchData()),(n=new URLSearchParams).set("collection_id",e),t.prev=3,t.next=6,fetch("".concat(url,"/auth/collection_detail/"),{method:"POST",headers:{Accept:"application/json"},body:n});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Authorized Request Failed");case 9:return t.next=11,r.json();case 11:return o=t.sent,console.log(o),t.abrupt("return",a(receiveResponseCollectionDetailData(o)));case 16:t.prev=16,t.t0=t.catch(3),a(receiveErrorBaseData(t.t0));case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e){return t.apply(this,arguments)}}()}function getCollectionDetailFromUUID(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingSearchData()),(n=new URLSearchParams).set("uuid",e),t.prev=3,t.next=6,fetch("".concat(url,"/auth/collection_detail_from_uuid/"),{method:"POST",headers:{Accept:"application/json"},body:n});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Authorized Request Failed");case 9:return t.next=11,r.json();case 11:return o=t.sent,console.log(o),t.abrupt("return",a(receiveResponseCollectionDetailData(o)));case 16:t.prev=16,t.t0=t.catch(3),a(receiveErrorBaseData(t.t0));case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e){return t.apply(this,arguments)}}()}function shareCollection(e,t){return function(){var a=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function a(n){var r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(requestingSearchData()),(r=new URLSearchParams).set("collection_id",t),r.set("target_email",e),a.prev=4,a.next=7,fetch("".concat(url,"/auth/collection_share/"),{method:"POST",headers:{Accept:"application/json"},body:r});case 7:if((o=a.sent).ok){a.next=10;break}throw new Error("Authorized Request Failed");case 10:return a.next=12,o.json();case 12:a.sent,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),n(receiveErrorBaseData(a.t0));case 18:case"end":return a.stop()}},a,null,[[4,15]])}));return function(e){return a.apply(this,arguments)}}()}function changeColTitle(e,t,a){return function(){var n=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function n(r){var o,l,s;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(requestingSearchData()),(o=new URLSearchParams).set("col_title",e),o.set("col_description",t),o.set("col_id",a),n.prev=5,n.next=8,fetch("".concat(url,"/auth/change-collection-title-description"),{method:"POST",headers:{Accept:"application/json"},body:o});case 8:if((l=n.sent).ok){n.next=11;break}throw new Error("Authorized Request Failed");case 11:return n.next=13,l.json();case 13:return s=n.sent,n.abrupt("return",r(receiveResponseCollectionDetailData(s)));case 17:n.prev=17,n.t0=n.catch(5),r(receiveErrorBaseData(n.t0));case 20:case"end":return n.stop()}},n,null,[[5,17]])}));return function(e){return n.apply(this,arguments)}}()}function removeDoc(e,t){return function(){var a=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function a(n){var r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(requestingSearchData()),(r=new URLSearchParams).set("doc_id",e),a.prev=3,a.next=6,fetch("".concat(url,"/auth/remove-document"),{method:"POST",headers:{Accept:"application/json"},body:r});case 6:if((o=a.sent).ok){a.next=9;break}throw new Error("Authorized Request Failed");case 9:return a.next=11,o.json();case 11:a.sent,window.location="/collection/"+t,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),n(receiveErrorBaseData(a.t0));case 18:case"end":return a.stop()}},a,null,[[3,15]])}));return function(e){return a.apply(this,arguments)}}()}function removeDocOnFind(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingSearchData()),(n=new URLSearchParams).set("doc_id",e),t.prev=3,t.next=6,fetch("".concat(url,"/auth/remove-document"),{method:"POST",headers:{Accept:"application/json"},body:n});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Authorized Request Failed");case 9:return t.next=11,r.json();case 11:o=t.sent,console.log(o),window.location="/find",t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),a(receiveErrorBaseData(t.t0));case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e){return t.apply(this,arguments)}}()}function removeDocOnHome(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingSearchData()),(n=new URLSearchParams).set("doc_id",e),t.prev=3,t.next=6,fetch("".concat(url,"/auth/remove-document"),{method:"POST",headers:{Accept:"application/json"},body:n});case 6:if((r=t.sent).ok){t.next=9;break}throw new Error("Authorized Request Failed");case 9:return t.next=11,r.json();case 11:o=t.sent,console.log(o),window.location="/home",t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),a(receiveErrorBaseData(t.t0));case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e){return t.apply(this,arguments)}}()}function removeCollection(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingSearchData()),n=new URLSearchParams,console.log(e),n.set("col_id",e),t.prev=4,t.next=7,fetch("".concat(url,"/auth/remove-collection"),{method:"POST",headers:{Accept:"application/json"},body:n});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Authorized Request Failed");case 10:return t.next=12,r.json();case 12:t.sent,window.location="/collection",t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),a(receiveErrorBaseData(t.t0));case 19:case"end":return t.stop()}},t,null,[[4,16]])}));return function(e){return t.apply(this,arguments)}}()}function createCollection(e,t,a,n){return function(){var r=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function r(o){var l,s,c;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o(requestingSearchData()),(l=new URLSearchParams).set("col_title",e),l.set("col_description",t),l.set("col_uuid",a),l.set("GmailID",n),console.log(e),r.prev=7,r.next=10,fetch("".concat(url,"/auth/create-empty-collection"),{method:"POST",headers:{Accept:"application/json"},body:l});case 10:if((s=r.sent).ok){r.next=13;break}throw new Error("Authorized Request Failed");case 13:return r.next=15,s.json();case 15:return c=r.sent,r.abrupt("return",o(receiveResponseCollectionUUID(c)));case 19:r.prev=19,r.t0=r.catch(7),o(receiveErrorBaseData(r.t0));case 22:case"end":return r.stop()}},r,null,[[7,19]])}));return function(e){return r.apply(this,arguments)}}()}function getWebThumbnail(e){return function(){var t=Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(a){var n,r,o;return f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(requestingCorData()),(n=new URLSearchParams).set("web_url",e),console.log(e),t.prev=4,t.next=7,fetch("".concat(url,"/auth/get-web-thumbnail"),{method:"POST",headers:{Accept:"application/json"},body:n});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Authorized Request Failed");case 10:return t.next=12,r.json();case 12:return o=t.sent,console.log(o),t.abrupt("return",a(receiveResponseWebThumbnail(o)));case 17:t.prev=17,t.t0=t.catch(4),a(receiveErrorBaseData(t.t0));case 20:case"end":return t.stop()}},t,null,[[4,17]])}));return function(e){return t.apply(this,arguments)}}()}},119:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},138:function(module,__webpack_exports__,__webpack_require__){"use strict";var f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),initialState={cordata:{},err:null,isFetching:!1,strand:[],standard:[],standard_set:"",web_thumbnail:""};function corDataReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUESTING_CORDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{err:null,isFetching:!0});case"NORMAL_STATUS":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{err:null,isFetching:!1});case"RECEIVE_RESPONSE_CORDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{cordata:convertCorData(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_STDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{strand:convertStrand(t.resp),standard_set:t.resp.standard_set,isFetching:!1});case"RECEIVE_RESPONSE_STNUMDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{standard:convertStandardNum(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_WEB_THUMBNAIL":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{web_thumbnail:t.resp.thumbnail_url,isFetching:!1});default:return e}}function convertCorData(e){var t=[];e.subject_triggerword.map(function(e){t.push({label:e.TriggerWord,id:e.id})});var a=[];e.grade_triggerword.map(function(e){a.push({label:e.TriggerWord,id:e.id})});var n=[];e.doctype.map(function(e){n.push({label:e.Type,id:e.id})});var r=[];return e.general_tags.map(function(e){r.push({label:e.Tag,id:e.Tag})}),{subject_triggerword:t,grade_triggerword:a,doctype:n,general_tags:r,collections:e.collections}}function convertStrand(st){var strand=[],origin_strand=eval("("+st.strand+")");return origin_strand.map(function(e){strand.push({title:e.Strand,id:e.Strand,selected:!1,key:"selected_strand"})}),strand}function convertStandardNum(code){var standard=[],converted_code=eval("("+code.code+")");return converted_code.map(function(e){standard.push({title:e.Standard_Number,id:e.id,selected:!1,key:"selected_standard",description:e.Description})}),standard}__webpack_exports__.a=corDataReducer},139:function(module,__webpack_exports__,__webpack_require__){"use strict";var f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),initialState={searchdata:[],err:null,isFetching:!1,strand:[],standard:[],my_collections:[],shared_collections:[],collection_detail:{title:"",description:"",thumbnail:"",uuid:"",docs:[]},col_count:0};function searchDataReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUESTING_SEARCHDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{err:null,isFetching:!0});case"RECEIVE_RESPONSE_SEARCHDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{searchdata:convertSearchData(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_MYDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{searchdata:convertMyData(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_COLLECTIONDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{my_collections:covertMyCollectionData(t.resp),shared_collections:covertSharedCollectionData(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_COLLECTIONDETAILDATA":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{collection_detail:convertCollectionDetail(t.resp),isFetching:!1});case"RECEIVE_RESPONSE_HAS_COLLECTION":return Object(f_pending_react_django_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__.a)({},e,{col_count:t.resp.col_count,isFetching:!1});default:return e}}function convertSearchData(searchdata){var search_result=[],id=1,st=eval("("+searchdata.docs+")");return st.map(function(e){var t={id:id++,thumbnail:!0,name:e.title,owner:e.owner,DocType:e.DocType,standard:e.standard.join(","),tags:e.tags.join(","),iconUrl:e.iconUrl,url:e.url,doc_id:e.DocID};search_result.push(t)}),search_result}function convertMyData(mydata){var search_result=[],id=1,st=eval("("+mydata.docs+")");return console.log(st),st.map(function(e){var t={id:id++,thumbnail:!0,name:e.title,DocType:e.DocType,subject:e.subject,standard:e.standard.join(","),tags:e.tags.join(","),iconUrl:e.iconUrl,url:e.url,doc_id:e.DocID};search_result.push(t)}),search_result}function covertMyCollectionData(collection_data){console.log(collection_data.my_collections);var my_collections=eval("("+collection_data.my_collections+")");return my_collections}function covertSharedCollectionData(collection_data){console.log(collection_data.share_collections);var share_collections=eval("("+collection_data.share_collections+")");return share_collections}function convertCollectionDetail(collection_detail){return{title:collection_detail.title,description:collection_detail.description,thumbnail:collection_detail.thumbnail,uuid:collection_detail.uuid,role:collection_detail.role,school:collection_detail.school,docs:eval("("+collection_detail.docs+")")}}__webpack_exports__.a=searchDataReducer},142:function(e,t,a){e.exports=a(327)},18:function(e,t,a){},197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=i(r),l=i(a(1)),s=i(a(198)),c=i(a(234));function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.markIt=function(e,t){var a=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return{__html:e[n.props.labelField].replace(RegExp(a,"gi"),function(e){return"<mark>"+(0,c.default)(e)+"</mark>"})}},n.shouldRenderSuggestions=function(e){var t=n.props,a=t.minQueryLength,r=t.isFocused;return e.length>=a&&r},n.renderSuggestion=function(e,t){var a=n.props.renderSuggestion;return"function"===typeof a?a(e,t):o.default.createElement("span",{dangerouslySetInnerHTML:n.markIt(e,t)})},d(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,a=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return t.isFocused!==e.isFocused||!(0,s.default)(t.suggestions,e.suggestions)||a(e.query)||a(e.query)!==a(t.query)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.selectedIndex,n=t.classNames;if(this.suggestionsContainer&&e.selectedIndex!==a){var r=this.suggestionsContainer.querySelector(n.activeSuggestion);r&&function(e,t){var a=t.offsetHeight,n=e.offsetHeight,r=e.offsetTop-t.scrollTop;r+n>=a?t.scrollTop+=r-a+n:r<0&&(t.scrollTop+=r)}(r,this.suggestionsContainer)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.suggestions.map(function(e,a){return o.default.createElement("li",{key:a,onMouseDown:t.handleClick.bind(null,a),onTouchStart:t.handleClick.bind(null,a),onMouseOver:t.handleHover.bind(null,a),className:a===t.selectedIndex?t.classNames.activeSuggestion:""},this.renderSuggestion(e,t.query))}.bind(this)),n=t.shouldRenderSuggestions||this.shouldRenderSuggestions;return 0!==a.length&&n(t.query)?o.default.createElement("div",{ref:function(t){e.suggestionsContainer=t},className:this.props.classNames.suggestions},o.default.createElement("ul",null," ",a," ")):null}}]),t}();u.propTypes={query:l.default.string.isRequired,selectedIndex:l.default.number.isRequired,suggestions:l.default.array.isRequired,handleClick:l.default.func.isRequired,handleHover:l.default.func.isRequired,minQueryLength:l.default.number,shouldRenderSuggestions:l.default.func,isFocused:l.default.bool.isRequired,classNames:l.default.object,labelField:l.default.string.isRequired,renderSuggestion:l.default.func},u.defaultProps={minQueryLength:2},t.default=u},24:function(e,t,a){"use strict";var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(0),l=f(o),s=a(126),c=f(a(328)),i=f(a(68)),d=f(a(163)),u=f(a(197)),_=f(a(1)),p=f(a(106)),h=f(a(107)),g=f(a(240)),m=a(75),b=a(264);function f(e){return e&&e.__esModule?e:{default:e}}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=(0,h.default)(function(e){return{classNames:r({},b.DEFAULT_CLASSNAMES,e)}}),w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));S.call(a),e.inline||console.warn("[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.");var n=e.suggestions,o=e.classNames;return a.state={suggestions:n,query:"",isFocused:!1,selectedIndex:-1,selectionMode:!1,classNames:r({},b.DEFAULT_CLASSNAMES,o)},a.handleFocus=a.handleFocus.bind(a),a.handleBlur=a.handleBlur.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleChange=a.handleChange.bind(a),a.moveTag=a.moveTag.bind(a),a.handlePaste=a.handlePaste.bind(a),a.resetAndFocusInput=a.resetAndFocusInput.bind(a),a.handleSuggestionHover=a.handleSuggestionHover.bind(a),a.handleSuggestionClick=a.handleSuggestionClick.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,a=e.readOnly;t&&!a&&this.resetAndFocusInput()}},{key:"filteredSuggestions",value:function(e,t){var a=this;if(this.props.handleFilterSuggestions)return this.props.handleFilterSuggestions(e,t);var n=t.filter(function(t){return 0===a.getQueryIndex(e,t)}),r=t.filter(function(t){return a.getQueryIndex(e,t)>0});return n.concat(r)}},{key:"resetAndFocusInput",value:function(){this.setState({query:""}),this.textInput&&(this.textInput.value="",this.textInput.focus())}},{key:"handleDelete",value:function(e,t){this.props.handleDelete(e,t),this.props.resetInputOnDelete?this.resetAndFocusInput():this.textInput&&this.textInput.focus(),t.stopPropagation()}},{key:"handleTagClick",value:function(e,t){this.props.handleTagClick&&this.props.handleTagClick(e,t),this.props.resetInputOnDelete?this.resetAndFocusInput():this.textInput&&this.textInput.focus()}},{key:"handleChange",value:function(e){this.props.handleInputChange&&this.props.handleInputChange(e.target.value);var t=e.target.value.trim(),a=this.filteredSuggestions(t,this.props.suggestions),n=this.state.selectedIndex;this.setState({query:t,suggestions:a,selectedIndex:n>=a.length?a.length-1:n})}},{key:"handleFocus",value:function(e){var t=e.target.value;this.props.handleInputFocus&&this.props.handleInputFocus(t),this.setState({isFocused:!0})}},{key:"handleBlur",value:function(e){var t=e.target.value;this.props.handleInputBlur&&(this.props.handleInputBlur(t),this.textInput&&(this.textInput.value="")),this.setState({isFocused:!1})}},{key:"handleKeyDown",value:function(e){var t=this.state,a=t.query,n=t.selectedIndex,r=t.suggestions,o=t.selectionMode;if(e.keyCode===b.KEYS.ESCAPE&&(e.preventDefault(),e.stopPropagation(),this.setState({selectedIndex:-1,selectionMode:!1,suggestions:[]})),-1!==this.props.delimiters.indexOf(e.keyCode)&&!e.shiftKey){e.keyCode===b.KEYS.TAB&&""===a||e.preventDefault();var l=o&&-1!==n?r[n]:E({id:a},this.props.labelField,a);""!==l&&this.addTag(l)}e.keyCode===b.KEYS.BACKSPACE&&""===a&&this.props.allowDeleteFromEmptyInput&&this.handleDelete(this.props.tags.length-1,e),e.keyCode===b.KEYS.UP_ARROW&&(e.preventDefault(),this.setState({selectedIndex:n<=0?r.length-1:n-1,selectionMode:!0})),e.keyCode===b.KEYS.DOWN_ARROW&&(e.preventDefault(),this.setState({selectedIndex:0===r.length?-1:(n+1)%r.length,selectionMode:!0}))}},{key:"handlePaste",value:function(e){var t=this;if(this.props.allowAdditionFromPaste){e.preventDefault();var a=e.clipboardData||window.clipboardData,n=a.getData("text"),r=this.props.maxLength,o=void 0===r?n.length:r,l=Math.min(o,n.length),s=a.getData("text").substr(0,l),c=(0,m.buildRegExpFromDelimiters)(this.props.delimiters),i=s.split(c);(0,d.default)(i).forEach(function(e){return t.addTag(E({id:e},t.props.labelField,e))})}}},{key:"handleSuggestionClick",value:function(e){this.addTag(this.state.suggestions[e])}},{key:"handleSuggestionHover",value:function(e){this.setState({selectedIndex:e,selectionMode:!0})}},{key:"moveTag",value:function(e,t){var a=this.props.tags[e];this.props.handleDrag(a,e,t)}},{key:"render",value:function(){var e=this,t=this.getTagItems(),a=this.state.query.trim(),n=this.state.selectedIndex,r=this.state.suggestions,o=this.props,s=o.placeholder,c=o.name,i=o.id,d=o.maxLength,_=o.inline,h=o.inputFieldPosition,g=_?h:b.INPUT_FIELD_POSITIONS.BOTTOM,m=this.props.readOnly?null:l.default.createElement("div",{className:this.state.classNames.tagInput},l.default.createElement("input",{ref:function(t){e.textInput=t},className:this.state.classNames.tagInputField,type:"text",placeholder:s,"aria-label":s,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,name:c,id:i,maxLength:d,value:this.props.inputValue}),l.default.createElement(u.default,{query:a,suggestions:r,labelField:this.props.labelField,selectedIndex:n,handleClick:this.handleSuggestionClick,handleHover:this.handleSuggestionHover,minQueryLength:this.props.minQueryLength,shouldRenderSuggestions:this.props.shouldRenderSuggestions,isFocused:this.state.isFocused,classNames:this.state.classNames,renderSuggestion:this.props.renderSuggestion}));return l.default.createElement("div",{className:(0,p.default)(this.state.classNames.tags,"react-tags-wrapper")},g===b.INPUT_FIELD_POSITIONS.TOP&&m,l.default.createElement("div",{className:this.state.classNames.selected},t,g===b.INPUT_FIELD_POSITIONS.INLINE&&m),g===b.INPUT_FIELD_POSITIONS.BOTTOM&&m)}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.classNames;return v(t)}}]),t}();w.propTypes={placeholder:_.default.string,labelField:_.default.string,suggestions:_.default.arrayOf(_.default.shape({id:_.default.string.isRequired})),delimiters:_.default.arrayOf(_.default.number),autofocus:_.default.bool,inline:_.default.bool,inputFieldPosition:_.default.oneOf([b.INPUT_FIELD_POSITIONS.INLINE,b.INPUT_FIELD_POSITIONS.TOP,b.INPUT_FIELD_POSITIONS.BOTTOM]),handleDelete:_.default.func,handleAddition:_.default.func,handleDrag:_.default.func,handleFilterSuggestions:_.default.func,handleTagClick:_.default.func,allowDeleteFromEmptyInput:_.default.bool,allowAdditionFromPaste:_.default.bool,allowDragDrop:_.default.bool,resetInputOnDelete:_.default.bool,handleInputChange:_.default.func,handleInputFocus:_.default.func,handleInputBlur:_.default.func,minQueryLength:_.default.number,shouldRenderSuggestions:_.default.func,removeComponent:_.default.func,autocomplete:_.default.oneOfType([_.default.bool,_.default.number]),readOnly:_.default.bool,classNames:_.default.object,name:_.default.string,id:_.default.string,maxLength:_.default.number,inputValue:_.default.string,tags:_.default.arrayOf(_.default.shape({id:_.default.string.isRequired,className:_.default.string})),allowUnique:_.default.bool,allowNew:_.default.bool,limitTag:_.default.number,renderSuggestion:_.default.func},w.defaultProps={placeholder:b.DEFAULT_PLACEHOLDER,labelField:b.DEFAULT_LABEL_FIELD,suggestions:[],delimiters:[b.KEYS.ENTER,b.KEYS.TAB],autofocus:!0,inline:!0,inputFieldPosition:b.INPUT_FIELD_POSITIONS.INLINE,handleDelete:i.default,handleAddition:i.default,allowDeleteFromEmptyInput:!0,allowAdditionFromPaste:!0,resetInputOnDelete:!0,autocomplete:!1,readOnly:!1,allowUnique:!0,limitTag:1/0,allowNew:!0,allowDragDrop:!0,tags:[]};var S=function(){var e=this;this.getQueryIndex=function(t,a){return a[e.props.labelField].toLowerCase().indexOf(t.toLowerCase())},this.isExistSuggestion=function(e,t){for(var a=0;a<e.length;a++)if(e[a].label==t)return a;return-1},this.addTag=function(t){var a=e.props,n=a.tags,r=a.labelField,o=a.allowNew,l=a.limitTag,s=a.allowUnique;if(t.id&&t[r]){var c=n.map(function(e){return e.id.toLowerCase()});if(!(s&&c.indexOf(t.id.toLowerCase())>=0)){var i=[];if(e.props.autocomplete)i=e.filteredSuggestions(t[r],e.props.suggestions),(1===e.props.autocomplete&&1===i.length||!0===e.props.autocomplete&&i.length)&&(t=i[0]);else if((i=e.filteredSuggestions(t[r],e.props.suggestions)).length>0){if(!(this.isExistSuggestion(e.props.suggestions,t[r])>-1)&&!o){t=i[0];c=n.map(function(e){return e.id.toLowerCase()});if(s&&c.indexOf(t.id.toLowerCase())>=0)return}}else if(!o)return;e.props.tags.length>=l||(e.props.handleAddition(t),e.setState({query:"",selectionMode:!1,selectedIndex:-1}),e.resetAndFocusInput())}}},this.getTagItems=function(){var t=e.props,a=t.tags,n=t.labelField,r=t.removeComponent,o=t.readOnly,s=t.allowDragDrop,c=e.state.classNames,i=s?e.moveTag:null;return a.map(function(t,a){return l.default.createElement(g.default,{key:t.id+"-"+a,index:a,tag:t,labelField:n,onDelete:e.handleDelete.bind(e,a),moveTag:i,removeComponent:r,onTagClicked:e.handleTagClick.bind(e,a),readOnly:o,classNames:c,allowDragDrop:s})})}};e.exports={WithContext:(0,s.DragDropContext)(c.default)(w),WithOutContext:w,KEYS:b.KEYS}},240:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=p(r),l=a(126),s=p(a(1)),c=p(a(241)),i=p(a(106)),d=a(261),u=a(75),_=p(a(263));function p(e){return e&&e.__esModule?e:{default:e}}var h="tag",g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.tag[e.labelField],a=e.connectDragSource,n=e.isDragging,r=e.connectDropTarget,l=e.readOnly,s=e.tag,c=e.classNames,d=s.className,p=void 0===d?"":d;return a(r(o.default.createElement("span",{className:(0,i.default)("tag-wrapper",c.tag,p),style:{opacity:n?0:1,cursor:(0,u.canDrag)(e)?"move":"auto"},onClick:e.onTagClicked,onKeyDown:e.onTagClicked,onTouchStart:e.onTagClicked},t,o.default.createElement(_.default,{tag:e.tag,className:c.remove,removeComponent:e.removeComponent,onClick:e.onDelete,readOnly:l}))))}}]),t}();g.propTypes={labelField:s.default.string,onDelete:s.default.func.isRequired,tag:s.default.shape({id:s.default.string.isRequired,className:s.default.string}),moveTag:s.default.func,removeComponent:s.default.func,onTagClicked:s.default.func,classNames:s.default.object,readOnly:s.default.bool,connectDragSource:s.default.func.isRequired,isDragging:s.default.bool.isRequired,connectDropTarget:s.default.func.isRequired},g.defaultProps={labelField:"text",readOnly:!1},t.default=(0,c.default)((0,l.DragSource)(h,d.tagSource,d.dragSource),(0,l.DropTarget)(h,d.tagTarget,d.dropCollect))(g)},261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropCollect=t.dragSource=t.tagTarget=t.tagSource=void 0;var n=a(20),r=a(75),o={beginDrag:function(e){return{id:e.tag.index,index:e.index}},canDrag:function(e){return(0,r.canDrag)(e)}},l={hover:function(e,t,a){var r=t.getItem().index,o=e.index;if(r!==o){var l=(0,n.findDOMNode)(a).getBoundingClientRect(),s=(l.right-l.left)/2,c=t.getClientOffset().x-l.left;r<o&&c<s||r>o&&c>s||(e.moveTag(r,o),t.getItem().index=o)}},canDrop:function(e){return(0,r.canDrop)(e)}};t.tagSource=o,t.tagTarget=l,t.dragSource=function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}},t.dropCollect=function(e){return{connectDropTarget:e.dropTarget()}}},263:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1));function o(e){return e&&e.__esModule?e:{default:e}}var l=String.fromCharCode(215),s=function(e){var t=e.readOnly,a=e.removeComponent,r=e.onClick,o=e.className;if(t)return n.default.createElement("span",null);if(a){var s=a;return n.default.createElement(s,e)}return n.default.createElement("a",{onClick:r,className:o,onKeyDown:r},l)};s.propTypes={className:r.default.string,onClick:r.default.func.isRequired,readOnly:r.default.bool,removeComponent:r.default.func},t.default=s},264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KEYS={ENTER:13,TAB:9,BACKSPACE:8,UP_ARROW:38,DOWN_ARROW:40,ESCAPE:27},t.DEFAULT_PLACEHOLDER="Add new tag",t.DEFAULT_LABEL_FIELD="text",t.DEFAULT_CLASSNAMES={tags:"ReactTags__tags",tagInput:"ReactTags__tagInput",tagInputField:"ReactTags__tagInputField",selected:"ReactTags__selected",tag:"ReactTags__tag",remove:"ReactTags__remove",suggestions:"ReactTags__suggestions",activeSuggestion:"ReactTags__activeSuggestion"},t.INPUT_FIELD_POSITIONS={INLINE:"inline",TOP:"top",BOTTOM:"bottom"}},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},307:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),s=a(30),c=a(128),i=a.n(c),d=a(129),u=a.n(d),_=a(5),p=a(130),h=a(14),g=a(9),m=a.n(g),b=a(15),f=a(59),E=a.n(f),v="http://127.0.0.1:8000",w="hUq5QmrIYSHu15LKS7nHjnXteMApeTHHTwSEWz9x",S="ealGKj90JJ3ERVVPOeFpwbZhUgNVZIvNERXSLlqmQKHcUCm8nLxAd3wtzYmbEh61ER6x4XqZGO0yd8vj9JL4PHmdPREx3VMXdOHYsDLWcXZQiiet3AP4HcOpyxkifJtB",O=function(){return{type:"GOOG_IS_AUTHENTICATING"}};var C=function(e){return{type:"CONVERT_GOOG_TOKEN_FAILURE",err:e}};var D=a(60),j=function(e){return r.a.createElement(D.GoogleLogin,{clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(t){console.log(t),t.profileObj&&(localStorage.setItem("goog_avatar_url",t.profileObj.imageUrl),localStorage.setItem("goog_name",t.profileObj.name),localStorage.setItem("goog_email",t.profileObj.email),localStorage.setItem("access_token",t.Zi.access_token)),e.convertGoogleToken(t.profileObj.googleId)},onFailure:function(e){console.log(e)},className:"loginBtn loginBtn--google btn mt-4",prompt:"select_account",redirectUri:"http://coteacherv1.eastus.cloudapp.azure.com/home/"})},y=Object(_.b)(null,function(e){return{convertGoogleToken:function(t){return e((a=t,function(){var e=Object(b.a)(m.a.mark(function e(t){var n,r,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(O()),(n=new E.a).set("GmailID",a),e.prev=3,e.next=6,fetch("".concat(v,"/auth/login/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:n});case 6:if((r=e.sent).ok){e.next=9;break}throw new Error("An Error has occured, please try again.");case 9:return e.next=11,r.json();case 11:return o=e.sent,e.next=14,localStorage.setItem("GmailID",a);case 14:if(!o.loginSuccess){e.next=19;break}return e.next=17,localStorage.setItem("isRegistered","true");case 17:e.next=22;break;case 19:return console.log("responseJson.loginSuccess",o.loginSuccess),e.next=22,localStorage.setItem("isRegistered","false");case 22:console.log(localStorage),window.location="/home",e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(3),e.abrupt("return",t(C(e.t0)));case 29:case"end":return e.stop()}},e,null,[[3,26]])}));return function(t){return e.apply(this,arguments)}}()));var a}}})(j),k=a(3),T=a(4),N=a(8),I=a(6),R=a(7),A=a(16),P=a.n(A),x=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){var e=this;P.a.load("auth2",function(){e.auth2=P.a.auth2.init({client_id:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com"})})}},{key:"render",value:function(){var e=this;return r.a.createElement(D.GoogleLogout,{buttonText:"Logout",onLogoutSuccess:function(t){P.a.auth2.getAuthInstance().signOut().then(function(){console.log("User signed out."),localStorage.removeItem("goog_avatar_url"),localStorage.removeItem("goog_name"),localStorage.removeItem("goog_email"),localStorage.removeItem("GmailID"),localStorage.removeItem("isRegistered"),localStorage.removeItem("access_token")}).then(function(){return e.props.googleLogoutAction()}).then(function(){return e.props.history.push("/")})},className:"btn"})}}]),t}(n.Component),M=Object(_.b)(null,function(e){return{googleLogoutAction:function(){return e(function(e){return localStorage.removeItem("goog_access_token_conv"),localStorage.removeItem("goog_refresh_token_conv"),localStorage.removeItem("goog_access_token_expires_in"),e({type:"GOOGLE_LOGOUT"}),Promise.resolve()})}}})(x),L=a(11),U=a(25),F=a(2),q=a(17),B=a.n(q),W=a(24),G=(a(265),a(269),a(135)),K=a.n(G),V=(n.Component,a(31)),H=a.n(V),z=(a(303),a(304),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).handleAdditionSubjects=function(e){a.setState(function(t){return{selected_subjects:[].concat(Object(U.a)(t.selected_subjects),[e])}})},a.handleDeleteSubjects=function(e){var t=a.state.selected_subjects;a.setState({selected_subjects:t.filter(function(t,a){return a!==e})})},a.handleAdditionGrades=function(e){a.setState(function(t){return{selected_grades:[].concat(Object(U.a)(t.selected_grades),[e])}})},a.handleDeleteGrades=function(e){var t=a.state.selected_grades;a.setState({selected_grades:t.filter(function(t,a){return a!==e})})},a.handleAdditionRoles=function(e){a.setState(function(t){return{selected_role:[].concat(Object(U.a)(t.selected_role),[e])}})},a.handleDeleteRoles=function(e){var t=a.state.selected_role;a.setState({selected_role:t.filter(function(t,a){return a!==e})})},a.handleAdditionGeneralTags=function(e){a.setState(function(t){return{selected_general_tags:[].concat(Object(U.a)(t.selected_general_tags),[e])}})},a.handleDeleteGeneralTags=function(e){var t=a.state.selected_general_tags;a.setState({selected_general_tags:t.filter(function(t,a){return a!==e})})},a.handleAdditionStudentNeeds=function(e){a.setState(function(t){return{selected_student_needs:[].concat(Object(U.a)(t.selected_student_needs),[e])}})},a.handleDeleteStudentNeeds=function(e){var t=a.state.selected_student_needs;a.setState({selected_student_needs:t.filter(function(t,a){return a!==e})})},a.onSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),n=t.length,r=n<=3?[]:a.props.basedata.basedata.schools.filter(function(e){return e.label.toLowerCase().slice(0,n)===t});a.setState({school_suggestions:r})},a.onChange=function(e,t){var n=t.newValue;a.setState({selected_school:n})},a.getSuggestionValue=function(e){return e.label+", "+e.city+", "+e.state},a.onSuggestionsClearRequested=function(){a.setState({school_suggestions:[]})},a.renderSuggestion=function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.label,", "),r.a.createElement("span",{className:"small-font"}," ",e.city,", ",e.state))},a.state={school_suggestions:[],selected_school:"",selected_role:[],selected_grades:[],selected_subjects:[],selected_student_needs:[],selected_general_tags:[]},a.handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a.handleDeleteStudentNeeds=a.handleDeleteStudentNeeds.bind(Object(F.a)(Object(F.a)(a))),a.handleAdditionStudentNeeds=a.handleAdditionStudentNeeds.bind(Object(F.a)(Object(F.a)(a))),a.handleDeleteGeneralTags=a.handleDeleteGeneralTags.bind(Object(F.a)(Object(F.a)(a))),a.handleAdditionGeneralTags=a.handleAdditionGeneralTags.bind(Object(F.a)(Object(F.a)(a))),a.handleDeleteRoles=a.handleDeleteRoles.bind(Object(F.a)(Object(F.a)(a))),a.handleAdditionRoles=a.handleAdditionRoles.bind(Object(F.a)(Object(F.a)(a))),a.handleDeleteGrades=a.handleDeleteGrades.bind(Object(F.a)(Object(F.a)(a))),a.handleAdditionGrades=a.handleAdditionGrades.bind(Object(F.a)(Object(F.a)(a))),a.handleDeleteSubjects=a.handleDeleteSubjects.bind(Object(F.a)(Object(F.a)(a))),a.handleAdditionSubjects=a.handleAdditionSubjects.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getBaseData()}},{key:"handleClick",value:function(){console.log(localStorage);var e=localStorage.getItem("GmailID"),t=localStorage.getItem("goog_name"),a={googleID:e,Email:localStorage.getItem("goog_email"),Firstname:t.split(" ")[0],Lastname:t.split(" ")[1],selected_school:this.state.selected_school,selected_role:this.state.selected_role,selected_grades:this.state.selected_grades,selected_subjects:this.state.selected_subjects,selected_student_needs:this.state.selected_student_needs,selected_general_tags:this.state.selected_general_tags};this.props.register(a)}},{key:"render",value:function(){if(this.props.basedata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));var e=this.state,t=e.selected_school,a=e.school_suggestions,n={placeholder:"Type your school name",value:t,onChange:this.onChange};return r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row w-100 mx-auto h-100"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("div",{className:"login-logo mb-3 text-center"},r.a.createElement("img",{className:"login-logo__image",src:"/static/images/coteacher-logo.jpg"}),r.a.createElement("p",null,"Tell us about how you teach")),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"mt-2"},r.a.createElement("label",{className:"school text-align-right"},"School:"),r.a.createElement(H.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:n})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"role"},"Role:"),r.a.createElement(W.WithContext,{tags:this.state.selected_role,suggestions:this.props.basedata.basedata.roles,handleDelete:this.handleDeleteRoles,handleAddition:this.handleAdditionRoles,allowNew:!1,allowDragDrop:!1,labelField:"label",minQueryLength:1,placeholder:"Add your Roles"})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"subject"},"Subject(s):"),r.a.createElement(W.WithContext,{tags:this.state.selected_subjects,suggestions:this.props.basedata.basedata.subjects,handleDelete:this.handleDeleteSubjects,handleAddition:this.handleAdditionSubjects,allowNew:!1,allowDragDrop:!1,labelField:"label",minQueryLength:1,placeholder:"Add your Subjects"})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"grade"},"Grade(s):"),r.a.createElement(W.WithContext,{tags:this.state.selected_grades,suggestions:this.props.basedata.basedata.grades,handleDelete:this.handleDeleteGrades,handleAddition:this.handleAdditionGrades,allowNew:!1,allowDragDrop:!1,labelField:"label",minQueryLength:1,placeholder:"Add your grades"})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"student__needs"},"Student Needs:"),r.a.createElement(W.WithContext,{tags:this.state.selected_student_needs,suggestions:this.props.basedata.basedata.student_needs,handleDelete:this.handleDeleteStudentNeeds,handleAddition:this.handleAdditionStudentNeeds,allowDragDrop:!1,labelField:"label",placeholder:"Add Student Needs"})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"missing__content"},"Are we missing something?"),r.a.createElement(W.WithContext,{tags:this.state.selected_general_tags,suggestions:this.props.basedata.basedata.general_tags,handleDelete:this.handleDeleteGeneralTags,handleAddition:this.handleAdditionGeneralTags,allowDragDrop:!1,labelField:"label",placeholder:"Add something missed"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:this.handleClick,className:"btn mt-4"},"Next")))))))}}]),t}(r.a.Component)),Q=Object(h.d)(z);var Y=Object(_.b)(function(e){return{basedata:e.basedata}},function(e){return{getBaseData:function(){return e(Object(L.c)())},register:function(t){return e(Object(L.n)(t))}}})(Q);a(305);var J=Object(h.d)(function(e){return r.a.createElement("div",null,localStorage.getItem("GmailID")&&"false"===localStorage.getItem("isRegistered")?r.a.createElement(Y,null):r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"login row w-100 mx-auto h-75"},r.a.createElement("div",{className:"col-12 text-center px-0"},r.a.createElement("div",{className:"login-logo mb-3"},r.a.createElement("img",{className:"login-logo__image",src:"/static/images/coteacher-logo.jpg"})),r.a.createElement("p",{className:"login-info mx-auto mb-4"},"Save time and enjoy teaching more by sharing lesson plans and materials with amazing educators just like you."),r.a.createElement("div",{className:"login-profile mb-4"},r.a.createElement("img",{className:"login-profile__pic",src:"/static/images/user-bg.svg"})),r.a.createElement("div",{className:"buttons"},r.a.createElement("ul",{className:"navbar-nav "},function(){if(e.goog_auth.isAuthenticated)return[r.a.createElement("li",{className:"nav-item",key:"goog-logout-btn"},r.a.createElement(M,{history:e.history}))]}(),function(){if(!e.goog_auth.isAuthenticated)return[r.a.createElement("li",{className:"nav-item",key:"goog-login-btn"},r.a.createElement(y,{history:e.history}))]}()))))))}),X=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(J),Z=(a(119),a(18),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).showAccount=function(){a.setState(function(e){return{open:!e.open}})},a.state={open:!1},a.showAccount=a.showAccount.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light"},r.a.createElement("a",{className:"navbar-brand",href:"/home"},r.a.createElement("img",{className:"co-teach__logo",src:"/static/images/CoTeacherLogo.png",alt:"logo"})),r.a.createElement("button",{className:"navbar-toggler co-teach__btn",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse text-right",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item mx-3"},r.a.createElement("a",{className:"nav-link smooth-hover",href:"/home"},"My Drive")),r.a.createElement("li",{className:"nav-item mx-3"},r.a.createElement("a",{className:"nav-link smooth-hover",href:"/collection"},"Collections")),r.a.createElement("li",{className:"nav-item mx-3"},r.a.createElement("a",{className:"nav-link smooth-hover",href:"/community"},"Community")),r.a.createElement("li",{className:"nav-item mx-3"},r.a.createElement("a",{className:"nav-link smooth-hover",href:"/find"},"Find")),r.a.createElement("li",{className:"nav-item mx-3"},r.a.createElement("a",{className:"nav-link",href:"#",onClick:this.showAccount},r.a.createElement("img",{src:localStorage.getItem("goog_avatar_url"),width:"24px",height:"auto",style:{borderRadius:"50%"}})),this.state.open&&r.a.createElement("div",{className:"dropdown pf-dropdown"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(M,{history:this.props.history}))))))))}}]),t}(r.a.Component)),$=Object(h.d)(Z),ee=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})($),te=a(35),ae=a.n(te),ne=(a(307),function(e){var t=e.handleClose,a=e.show,n=e.children;return r.a.createElement("div",{className:a?"modal display-block":"modal display-none"},r.a.createElement("section",{className:"modal-main"},r.a.createElement("span",{onClick:t,className:"x-btn"},"\xd7"),n))}),re=a(29),oe="955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",le="AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0",se=["https://www.googleapis.com/auth/drive"],ce=function(e,t){return"<img src='"+e.getRow().getData().iconUrl+"' />"},ie=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).hideModal=function(){a.setState({show:!1})},a.state={show:!1,picked_file:null},a.pickerCallback=a.pickerCallback.bind(Object(F.a)(Object(F.a)(a))),a.selectAssessment=a.selectAssessment.bind(Object(F.a)(Object(F.a)(a))),a.selectPlan=a.selectPlan.bind(Object(F.a)(Object(F.a)(a))),a.selectResource=a.selectResource.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getMyData(),P.a.load("client:auth2",this.initClient)}},{key:"rowClick",value:function(e,t){console.log(t.getData().url),window.open(t.getData().url,"_blank")}},{key:"initClient",value:function(){P.a.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],clientId:oe,scope:"https://www.googleapis.com/auth/drive"}).then(function(){console.log("it worked")})}},{key:"selectAssessment",value:function(){localStorage.setItem("DocType","Assessment"),window.location="/upload"}},{key:"selectPlan",value:function(){localStorage.setItem("DocType","Plan"),window.location="/upload"}},{key:"selectResource",value:function(){localStorage.setItem("DocType","Resource"),window.location="/upload"}},{key:"pickerCallback",value:function(e){if("picked"==e.action){var t=e.docs[0];localStorage.setItem("file",JSON.stringify(t)),console.log(t),console.log(localStorage),this.setState({show:!0});var a=P.a.auth.getToken().access_token;this.props.getThumbnailLink(t.id,a)}}},{key:"render",value:function(){var e=this,t=[{title:"",field:"thumbnail",align:"center",formatter:ce,width:"5%"},{title:"Documents matching your search:",field:"name",width:"28%"},{title:"Document Type",field:"DocType",width:"15%"},{title:"Subject",field:"subject",width:"12%"},{title:"Standards",field:"standard",width:"20%"},{title:"Tags",field:"tags",width:"15%"},{title:"",field:"remove",width:"3%",align:"center",formatter:"buttonCross",cellClick:function(t,a){t.stopPropagation(),e.props.removeDocOnHome(a.getRow().getData().doc_id)}},{title:"",field:"iconUrl",visible:!1},{title:"",field:"url",visible:!1},{title:"",field:"doc_id",visible:!1}];if(this.props.searchdata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));if(this.props.searchdata.searchdata.length>0){return r.a.createElement("div",{className:"container text-center",style:{display:"block"}},r.a.createElement("h2",null,"Shared with Coteacher"),r.a.createElement("div",{className:"mt-4"},r.a.createElement(re.ReactTabulator,{ref:function(t){return e.ref=t},columns:t,data:this.props.searchdata.searchdata,rowClick:this.rowClick,options:{height:"500px",movableRows:!0},"data-custom-attr":"test-custom-attribute",className:"custom-css-class"})),r.a.createElement(ae.a,{clientId:oe,developerKey:le,scope:se,onChange:function(e){return console.log("on change:",e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,mimeTypes:["image/png","image/jpeg","image/jpg"],viewId:"DOCS",createPicker:function(t,a){var n=t.picker.ViewId.DOCS;new t.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.docs").setSelectFolderEnabled(!1);(new window.google.picker.PickerBuilder).addView((new t.picker.DocsView).setIncludeFolders(!0).setOwnedByMe(!0)).setOAuthToken(a).setDeveloperKey(le).setCallback(e.pickerCallback).build().setVisible(!0)}},r.a.createElement("button",{className:"btn mt-4 float-left"},"Add more"),r.a.createElement("div",{className:"google"})),r.a.createElement(ne,{show:this.state.show,handleClose:this.hideModal},r.a.createElement("h3",{className:"text-center"},"What is this document?"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectAssessment}," An Assessment"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectPlan},"A Plan"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectResource},"A Resource"))))}return r.a.createElement("div",null,r.a.createElement("p",null,"Upload a file from your Google Drive"),r.a.createElement("p",null,"Click on a file in your Drive, describe it a little, and share it with your fellow teachers!"),r.a.createElement(ae.a,{clientId:oe,developerKey:le,scope:se,onChange:function(e){return console.log("on change:",e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,mimeTypes:["image/png","image/jpeg","image/jpg"],viewId:"DOCS",createPicker:function(t,a){var n=t.picker.ViewId.DOCS;new t.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.docs").setSelectFolderEnabled(!1);(new window.google.picker.PickerBuilder).addView((new t.picker.DocsView).setIncludeFolders(!0).setOwnedByMe(!0)).setOAuthToken(a).setDeveloperKey(le).setCallback(e.pickerCallback).build().setVisible(!0)}},r.a.createElement("button",{className:"btn mt-4"},"Upload files"),r.a.createElement("div",{className:"google"})),r.a.createElement(ne,{show:this.state.show,handleClose:this.hideModal},r.a.createElement("h3",{className:"text-center"},"What is this document?"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectAssessment}," An Assessment"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectPlan},"A Plan"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectResource},"A Resource"))))}}]),t}(r.a.Component),de=Object(h.d)(ie);var ue=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getThumbnailLink:function(t,a){return e(Object(L.l)(t,a))},getMyData:function(){return e(Object(L.h)())},removeDocOnHome:function(t){return e(Object(L.s)(t))}}})(de),_e=function(e){e.github_auth,e.goog_auth;return console.log(localStorage.getItem("GmailID")),console.log(localStorage.getItem("isRegistered")),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(ue,null))},pe=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(_e),he=(a(81),a(38),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"handleClick",value:function(){this.props.HandleClick(this.props.CollectionID)}},{key:"render",value:function(){var e=this.props,t=e.CollectionID,a=e.SelectedCol,n=e.Title;return r.a.createElement("div",{className:"card-st",onClick:this.handleClick},r.a.createElement("div",{className:"inner-card"},r.a.createElement("img",{src:"/static/images/criticalthinking.png",width:"250px",height:"160px",className:t==a?"card-border":""})),r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement("p",{className:"text-center"},n))))}}]),t}(r.a.Component)),ge=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).changeInput=function(){a.setState({showInput:!0})},a.changePlainText=function(){a.setState({showInput:!1})},a.changeColTitle=function(e){a.setState({col_title:e.target.value}),a.props.changeColTitle(e.target.value)},a.state={showInput:!1,col_title:""},a.handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"handleClick",value:function(){this.props.HandleClick(this.props.CollectionID)}},{key:"render",value:function(){var e=this.props,t=e.CollectionID,a=e.SelectedCol,n=e.Title;return r.a.createElement("div",{className:"card-st",onClick:this.handleClick},r.a.createElement("div",{className:"inner-card"},r.a.createElement("img",{src:"/static/images/newcollection.png",width:"250px",height:"160px",className:t==a?"card-border":""})),r.a.createElement("div",{onClick:this.changeInput},this.state.showInput&&r.a.createElement("input",{type:"text",value:this.state.col_title,placeholder:"Type Collection Name",autoFocus:!0,onChange:this.changeColTitle,style:{fontSize:"16px"},onBlur:this.changePlainText}),!this.state.showInput&&""===this.state.col_title&&r.a.createElement("div",{className:""},r.a.createElement("p",{className:"text-center"},n)),!this.state.showInput&&""!==this.state.col_title&&r.a.createElement("div",{className:""},r.a.createElement("p",{className:"text-center"},this.state.col_title))))}}]),t}(r.a.Component),me=a(61),be=a(63),fe=a.n(be),Ee=(a(320),a(137)),ve=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={listOpen:!1,headerTitle:a.props.title},a.close=a.close.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.listOpen;setTimeout(function(){t?window.addEventListener("click",e.close):window.removeEventListener("click",e.close)},0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.close)}},{key:"close",value:function(e){this.setState({listOpen:!1})}},{key:"selectItem",value:function(e,t,a){this.setState({headerTitle:e,listOpen:!1},this.props.resetThenSet(t,a))}},{key:"toggleList",value:function(){this.setState(function(e){return{listOpen:!e.listOpen}})}},{key:"render",value:function(){var e=this,t=this.props.list;console.log(t);var a=this.state,n=a.listOpen,o=a.headerTitle;return r.a.createElement("div",{className:"dd-wrapper"},r.a.createElement("div",{className:"dd-header",onClick:function(){return e.toggleList()}},r.a.createElement("div",{className:"dd-header-title"},o),n?r.a.createElement(fe.a,{name:"angle-up",size:"2x"}):r.a.createElement(fe.a,{name:"angle-down",size:"2x"})),n&&r.a.createElement("ul",{className:"dd-list",onClick:function(e){return e.stopPropagation()}},t.map(function(t){return r.a.createElement("li",{className:"dd-list-item",key:t.id,onClick:function(){return e.selectItem(t.title,t.id,t.key)}},r.a.createElement("div",null,t.title," ",t.selected&&r.a.createElement(fe.a,{name:"check"}),r.a.createElement("span",{className:"tooltip-icon"},r.a.createElement(Ee.Tooltip,{theme:"light",title:"Welcome to React",position:"right",trigger:"mouseenter",interactive:!0,html:r.a.createElement("div",null,r.a.createElement("p",null,"Description"),r.a.createElement("textarea",{cols:"32",rows:"5",disabled:!0,style:{resize:"none",fontFamily:"Montserrat",fontSize:"15px",backgroundColor:"white"},defaultValue:t.description}))},r.a.createElement("p",null,"\xa0\xa0i\xa0\xa0")))))})))}}]),t}(n.Component),we=(a(124),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).onSubjectTriggerwordSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),n=t.length,r=n<=0?[]:a.props.cordata.cordata.subject_triggerword.filter(function(e){return e.label.toLowerCase().slice(0,n)===t});a.setState({subject_triggerword_suggestions:r})},a.onSubjectTriggerwordChange=function(e,t){var n=t.newValue;a.setState({selected_subject_triggerword:n}),a.props.getStrand(n,a.state.selected_grade_triggerword)},a.getSubjectTriggerwordSuggestionValue=function(e){return e.label},a.onSubjectTriggerwordSuggestionsClearRequested=function(){a.setState({subject_triggerword_suggestions:[]})},a.renderSubjectTriggerwordSuggestion=function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.label))},a.onGradeTriggerwordSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),n=t.length,r=n<=0?[]:a.props.cordata.cordata.grade_triggerword.filter(function(e){return e.label.toLowerCase().slice(0,n)===t});a.setState({grade_triggerword_suggestions:r})},a.onGradeTriggerwordChange=function(e,t){var n=t.newValue;a.setState({selected_grade_triggerword:n}),a.props.getStrand(a.state.selected_subject_triggerword,n)},a.getGradeTriggerwordSuggestionValue=function(e){return a.props.getStrand(a.state.selected_subject_triggerword,e.label),e.label},a.onGradeTriggerwordSuggestionsClearRequested=function(){a.setState({grade_triggerword_suggestions:[]})},a.renderGradeTriggerwordSuggestion=function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.label))},a.resetThenSetStrand=function(e,t){a.props.getStandard(a.state.selected_subject_triggerword,a.state.selected_grade_triggerword,e)},a.resetThenSetStandard=function(e,t){a.setState({isSelectedStandardNumber:!0}),a.setState({selected_standard:e})},a.handleAdditionGeneralTags=function(e){a.setState(function(t){return{selected_general_tags:[].concat(Object(U.a)(t.selected_general_tags),[e])}})},a.handleDeleteGeneralTags=function(e){var t=a.state.selected_general_tags;a.setState({selected_general_tags:t.filter(function(t,a){return a!==e})})},a.changeColDefaultTitle=function(e){a.setState({col_default_title:e}),console.log(e)},a.changeColNewTitle=function(e){a.setState({col_new_title:e}),console.log(e)},a.state={selectedCol:"default",hide_optional:!0,changed_text:"Show more",selected_subject_triggerword:"",subject_triggerword_suggestions:[],selected_grade_triggerword:"",grade_triggerword_suggestions:[],selected_strand:null,selected_standard:null,selected_methods:null,selected_general_tags:[],file:JSON.parse(localStorage.getItem("file")),standard_set:"",isSelectedStandardNumber:!1,col_default_title:localStorage.getItem("goog_name").split(" ")[0]+"'s First Collection",col_new_title:"New Collection"},a.handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a.goBack=a.goBack.bind(Object(F.a)(Object(F.a)(a))),a.showOptional=a.showOptional.bind(Object(F.a)(Object(F.a)(a))),a.selectCol=a.selectCol.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getCorData()}},{key:"componentWillMount",value:function(){P.a.load("client:auth2",this.initClient)}},{key:"initClient",value:function(){P.a.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive"}).then(function(){console.log("it worked")})}},{key:"showOptional",value:function(){this.state.hide_optional?(this.setState({hide_optional:!this.state.hide_optional}),this.setState({changed_text:"Show Less"})):(this.setState({hide_optional:!this.state.hide_optional}),this.setState({changed_text:"Show More"}))}},{key:"selectCol",value:function(e){this.setState({selectedCol:e})}},{key:"handleClick",value:function(){var e=JSON.parse(localStorage.getItem("file")),t={Title:e.name,GmailID:localStorage.getItem("GmailID"),DocID:e.id,DocType:localStorage.getItem("DocType"),collection_pk:"default"===this.state.selectedCol&&null!==localStorage.getItem("collection_id")?localStorage.getItem("collection_id"):this.state.selectedCol,selected_general_tags:this.state.selected_general_tags,ServiceType:e.type,iconUrl:e.iconUrl,url:e.url,standard_pk:this.state.selected_standard,selected_subject_triggerword:this.state.selected_subject_triggerword,selected_grade_triggerword:this.state.selected_grade_triggerword,col_default_title:this.state.col_default_title,col_new_title:this.state.col_new_title,first_name:localStorage.getItem("goog_name").split(" ")[0],web_thumbnail:""};this.props.registerFile(t)}},{key:"goBack",value:function(){window.history.back()}},{key:"render",value:function(){var e=this;if(this.props.cordata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));var t=this.state,a=t.selected_subject_triggerword,n=t.subject_triggerword_suggestions,o={placeholder:"Type your school name",value:a,onChange:this.onSubjectTriggerwordChange},l=this.state,s=l.selected_grade_triggerword,c=l.grade_triggerword_suggestions,i={placeholder:"Type your school name",value:s,onChange:this.onGradeTriggerwordChange},d=[];return this.props.cordata.cordata.collections&&this.props.cordata.cordata.collections.length&&this.props.cordata.cordata.collections.map(function(t,a){d.push(r.a.createElement(he,{CollectionID:t.id,Title:t.Title,SelectedCol:e.state.selectedCol,HandleClick:e.selectCol,key:a}))}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"Upload a file from your Google Drive"),r.a.createElement("p",null,"Tell us about this resource so we can help others find it easily."),r.a.createElement("div",{className:"input-group row"},r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Subject(s):"),r.a.createElement(H.a,{suggestions:n,onSuggestionsFetchRequested:this.onSubjectTriggerwordSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSubjectTriggerwordSuggestionsClearRequested,getSuggestionValue:this.getSubjectTriggerwordSuggestionValue,renderSuggestion:this.renderSubjectTriggerwordSuggestion,inputProps:o})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Grade(s):"),r.a.createElement(H.a,{suggestions:c,onSuggestionsFetchRequested:this.onGradeTriggerwordSuggestionsFetchRequested,onSuggestionsClearRequested:this.onGradeTriggerwordSuggestionsClearRequested,getSuggestionValue:this.getGradeTriggerwordSuggestionValue,renderSuggestion:this.renderGradeTriggerwordSuggestion,inputProps:i})),this.props.cordata.strand.length>0&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,this.props.cordata.standard_set),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12",style:{width:"100%"}},r.a.createElement("h6",null,"Strand:"),r.a.createElement(me.Dropdown,{title:"Select Strand",list:this.props.cordata.strand,resetThenSet:this.resetThenSetStrand})))),this.props.cordata.standard.length>0&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h6",null,"Standard:"),r.a.createElement(ve,{title:"Select Standard Number",list:this.props.cordata.standard,resetThenSet:this.resetThenSetStandard})))),this.state.isSelectedStandardNumber&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Tags:"),r.a.createElement(W.WithContext,{tags:this.state.selected_general_tags,suggestions:this.props.cordata.cordata.general_tags,handleDelete:this.handleDeleteGeneralTags,handleAddition:this.handleAdditionGeneralTags,allowDragDrop:!1,labelField:"label",placeholder:"Add tags"})),!this.state.hide_optional&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Add this document to a collection:"),r.a.createElement("div",{className:"outer-div"},r.a.createElement("div",{className:"inner-div"},d,r.a.createElement(ge,{CollectionID:"default",Title:localStorage.getItem("goog_name").split(" ")[0]+"'s First Collection",SelectedCol:this.state.selectedCol,HandleClick:this.selectCol,changeColTitle:this.changeColDefaultTitle}),r.a.createElement(ge,{CollectionID:"new",Title:"Add New Collection",SelectedCol:this.state.selectedCol,HandleClick:this.selectCol,changeColTitle:this.changeColNewTitle})))),r.a.createElement("div",{className:"mt-4"},r.a.createElement("a",{href:"#",onClick:this.showOptional},this.state.changed_text),r.a.createElement("p",null)),r.a.createElement("button",{className:"btn mt-4",id:"backBtn",onClick:this.goBack},"Back"),r.a.createElement("button",{className:"btn float-right mt-4",id:"saveBtn",onClick:this.handleClick},"Save")),r.a.createElement("div",{className:"col-md-5"},r.a.createElement("img",{src:"https://drive.google.com/thumbnail?authuser=0&sz=w320&id=".concat(this.state.file.id),className:"thumbnail_image",alt:"This doc has no thunmbnail."}),r.a.createElement("h6",{className:"thumbnail_text"},this.state.file.name))))}}]),t}(r.a.Component)),Se=Object(h.d)(we);var Oe=Object(_.b)(function(e){return{cordata:e.cordata}},function(e){return{getCorData:function(){return e(Object(L.g)())},registerFile:function(t){return e(Object(L.o)(t))},getStrand:function(t,a){return e(Object(L.k)(t,a))},getStandard:function(t,a,n){return e(Object(L.j)(t,a,n))}}})(Se),Ce=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(Oe,null))},De=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(Ce),je=(a(82),a(83),function(e,t){return"<img src='"+e.getRow().getData().iconUrl+"' />"}),ye=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={keyword:""},a.rowClick=a.rowClick.bind(Object(F.a)(Object(F.a)(a))),a.clickSearch=a.clickSearch.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getSearchData("","","")}},{key:"rowClick",value:function(e,t){console.log(t.getData().url),window.open(t.getData().url,"_blank")}},{key:"clickSearch",value:function(){this.props.getSearchData(this.state.keyword,"","")}},{key:"handleChange",value:function(e){this.setState({keyword:e})}},{key:"render",value:function(){var e=this;console.log(this);var t=[{title:"",field:"thumbnail",align:"center",formatter:je,width:"5%"},{title:"Documents matching your search:",field:"name",width:"28%"},{title:"Contributor",field:"owner",width:"15%"},{title:"Type",field:"DocType",width:"15%"},{title:"Standards",field:"standard",width:"20%"},{title:"Tags",field:"tags",width:"15%"},{title:"",field:"iconUrl",visible:!1},{title:"",field:"url",visible:!1},{title:"",field:"doc_id",visible:!1}];if(console.log("----",this.props.searchdata.searchdata),this.props.searchdata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));return r.a.createElement("div",{className:"container text-center",style:{display:"block"}},r.a.createElement("h2",null,"Find Resources"),r.a.createElement("p",{style:{fontSize:"18px"}},"Search for content relevant to you and your students"),r.a.createElement("div",{className:"input-group col-md-12"},r.a.createElement("input",{type:"text",className:"search-query form-control",placeholder:"Search for resources",value:this.state.keyword,onChange:function(t){return e.handleChange(t.target.value)}}),r.a.createElement("button",{className:"btn",type:"button",onClick:this.clickSearch},r.a.createElement("span",{className:"fa fa-search"}))),r.a.createElement(re.ReactTabulator,{ref:function(t){return e.ref=t},columns:t,data:this.props.searchdata.searchdata,rowClick:this.rowClick,options:{height:"500px",movableRows:!0},"data-custom-attr":"test-custom-attribute",className:"custom-css-class"}))}}]),t}(r.a.Component),ke=Object(h.d)(ye);var Te=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getSearchData:function(t,a,n){return e(Object(L.i)(t,a,n))},removeDocOnFind:function(t){return e(Object(L.r)(t))}}})(ke),Ne=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(Te,null))},Ie=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(Ne),Re=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).removeCol=function(){a.props.removeCol(a.props.collectionId)},a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isNew,a=e.collectionId,n=e.thumbnail,o=e.title;return t?r.a.createElement("div",{className:"col-md-4 mb-40"},r.a.createElement("div",{className:"square"},r.a.createElement("button",{className:"btn btn-plus",type:"button"},r.a.createElement("a",{href:"/new-collection"},r.a.createElement("span",{className:"fa fa-plus"})))),r.a.createElement("div",null,r.a.createElement("div",{className:"new-collection"},r.a.createElement("p",{className:"text-center"},"Add New Collection")))):r.a.createElement("div",{className:"col-md-4 mb-40"},r.a.createElement("div",{className:"square"},r.a.createElement("span",{className:"x-col-btn",onClick:this.removeCol},"\xd7"),r.a.createElement("a",{href:"/collection/"+a,style:{width:"100%"}},r.a.createElement("img",{src:n,style:{maxWidth:"100%"},width:"100%",height:"200px"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"new-collection"},r.a.createElement("p",{className:"text-center"},o))))}}]),t}(r.a.Component),Ae=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).removeCol=function(e){a.props.searchdata.my_collections.map(function(t,n){t.pk===e&&a.props.removeCollection(e)})},a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getCollectionData()}},{key:"render",value:function(){var e=this,t=[];this.props.searchdata.my_collections.map(function(a,n){t.push(r.a.createElement(Re,{collectionId:a.pk,title:a.fields.Title,thumbnail:"/static/images/criticalthinking.png",isNew:!1,removeCol:e.removeCol,key:n}))});var a=[];return this.props.searchdata.shared_collections.map(function(e,t){a.push(r.a.createElement(Re,{collectionId:e.pk,title:e.title,thumbnail:"/static/images/criticalthinking.png",isNew:!1,key:t}))}),this.props.searchdata.isFetching?r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0})):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"top-container"},r.a.createElement("h4",null,"Resource Collections"),r.a.createElement("p",null,"All of your resources at your fingertips"),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("div",{id:"custom-search-input"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"  search-query form-control",placeholder:"Search Collections"}),r.a.createElement("button",{className:"btn",type:"button"},r.a.createElement("span",{className:"fa fa-search"}))))))),r.a.createElement("div",{className:"middle=container"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col col-md-7 order-1"},r.a.createElement("p",{className:"text-collections"},"My Collections:")),r.a.createElement("div",{className:"col col-md-push-1 order-2"},r.a.createElement("div",{className:"float-right"},r.a.createElement("p",null,"Sort:"))),r.a.createElement("div",{className:"col col-md-push-4 order-3"},r.a.createElement("button",{className:"round-btn",onClick:this.removeCol},"Recent"),r.a.createElement("button",{className:"round-btn"},"Abc"),r.a.createElement("button",{className:"round-btn"},"Custom")))),r.a.createElement("div",{className:"row mt-5"},t,r.a.createElement(Re,{isNew:!0})),r.a.createElement("div",{className:"middle=container"},r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col col-md-7 order-1"},r.a.createElement("p",{className:"text-collections"},"Collections Shared with me:")))),r.a.createElement("div",{className:"row mt-5"},a))}}]),t}(r.a.Component),Pe=Object(h.d)(Ae);var xe,Me=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getCollectionData:function(){return e(Object(L.d)())},removeCollection:function(t){return e(Object(L.p)(t))},getStrand:function(t,a){return e(Object(L.k)(t,a))}}})(Pe),Le=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(Me,null))},Ue=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(Le),Fe=a(22),qe=[{title:"",field:"thumbnail",align:"center",formatter:function(e,t){return"<img src='"+e.getRow().getData().iconUrl+"' />"},width:"5%"},{title:"Documents matching your search:",field:"name",width:"35%"},{title:"Contributor",field:"owner",width:"15%"},{title:"Type",field:"DocType",width:"15%"},{title:"Standards",field:"standard",width:"15%"},{title:"Tags",field:"tags",width:"15%"},{title:"",field:"iconUrl",width:"15%",visible:!1},{title:"",field:"url",width:"15%",visible:!1}],Be=(xe={},Object(Fe.a)(xe,"","&nbsp;"),Object(Fe.a)(xe,"red","red"),Object(Fe.a)(xe,"green","green"),Object(Fe.a)(xe,"yellow","yellow"),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={show_optional:!0,changed_text:"Show more",selected_type:1,selected_subject_triggerword:null,selected_grade_triggerword:null,selected_strand:null,selected_standard:null,selected_methods:null,selected_general_tags:null,file:JSON.parse(localStorage.getItem("file"))},a.rowClick=a.rowClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"handleChangeType",value:function(e){this.setState({selected_type:e.currentTarget.value}),console.log(e.currentTarget.value)}},{key:"componentDidMount",value:function(){this.props.getSearchData("","","")}},{key:"selectSubjectTrigger",value:function(e,t){console.log(e),this.setState({selected_subject_triggerword:e}),this.props.getStrand(e,this.state.selected_grade_triggerword)}},{key:"showOptional",value:function(){console.log(this.state.show_optional),this.state.show_optional?(this.setState({show_optional:!this.state.show_optional}),this.setState({changed_text:"Show Less"})):(this.setState({show_optional:!this.state.show_optional}),this.setState({changed_text:"Show More"}))}},{key:"rowClick",value:function(e,t){console.log(t.getData().url),window.open(t.getData().url,"_blank")}},{key:"goBack",value:function(){window.history.back(),localStorage.setItem("isRegistered",!1),console.log(localStorage)}},{key:"render",value:function(){var e=this;if(console.log("----",this.props.searchdata.searchdata),this.props.searchdata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));return r.a.createElement("div",{className:"container text-center",style:{display:"block"}},r.a.createElement("h2",null,"Find Resources"),r.a.createElement("p",{style:{fontSize:"18px"}},"Search for content relevant to you and your students"),r.a.createElement("div",{className:"input-group col-md-12"},r.a.createElement("input",{type:"text",className:"  search-query form-control",placeholder:"Search for resources"}),r.a.createElement("button",{className:"btn",type:"button"},r.a.createElement("span",{className:"fas fa-search"}))),r.a.createElement(re.ReactTabulator,{ref:function(t){return e.ref=t},columns:qe,data:this.props.searchdata.searchdata,rowClick:this.rowClick,options:{height:"500px",movableRows:!0},"data-custom-attr":"test-custom-attribute",className:"custom-css-class"}))}}]),t}(r.a.Component)),We=Object(h.d)(Be);var Ge=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getSearchData:function(t,a,n){return e(Object(L.i)(t,a,n))},registerFile:function(t){return e(Object(L.o)(t))},getStrand:function(t,a){return e(Object(L.k)(t,a))}}})(We),Ke=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(Ge,null))},Ve=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(Ke),He=(a(50),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={Hover:!1},a.MouseHover=a.MouseHover.bind(Object(F.a)(Object(F.a)(a))),a.MouseOut=a.MouseOut.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"MouseHover",value:function(){this.setState({Hover:!0})}},{key:"MouseOut",value:function(){this.setState({Hover:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-col-image",onMouseOver:this.MouseHover,onMouseOut:this.MouseOut},r.a.createElement("div",{className:"img-panel"},this.props.isEmpty&&r.a.createElement("img",{src:"/static/images/doc icon.png"}),!this.props.isEmpty&&r.a.createElement("img",{src:"/static/images/criticalthinking.png",width:"100%",height:"100%"}),r.a.createElement("button",{className:this.state.Hover?"btn-edit-image":".btn-edit-image display-none"},"Edit Image")))}}]),t}(r.a.Component)),ze=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).showQuickViewModal=function(){a.props.quickView(a.props.docID)},a.showNewDocModal=function(){a.props.showNewDocModal()},a.removeDoc=function(){a.props.removeDoc(a.props.docID)},a.state={Hover:!1},a.MouseHover=a.MouseHover.bind(Object(F.a)(Object(F.a)(a))),a.MouseOut=a.MouseOut.bind(Object(F.a)(Object(F.a)(a))),a.view=a.view.bind(Object(F.a)(Object(F.a)(a))),a.showQuickViewModal=a.showQuickViewModal.bind(Object(F.a)(Object(F.a)(a))),a.showNewDocModal=a.showNewDocModal.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"MouseHover",value:function(){this.setState({Hover:!0})}},{key:"MouseOut",value:function(){this.setState({Hover:!1})}},{key:"view",value:function(){window.open(this.props.info.Url,"_blank")}},{key:"render",value:function(){var e=this.props,t=e.info,a=e.isNew;e.newDoc;return console.log(t),a?r.a.createElement("div",{className:"col-md-3 new-doc-card-container"},r.a.createElement("div",{className:"img-panel-new"},r.a.createElement("button",{className:"btn btn-plus",type:"button"},r.a.createElement("a",{href:"#",onClick:this.showNewDocModal},r.a.createElement("span",{className:"fa fa-plus"})))),r.a.createElement("div",{className:"title-bar"},r.a.createElement("p",{className:"text-center"},"Add Resource"))):r.a.createElement("div",{className:"col-md-3 grayscale",onMouseOver:this.MouseHover,onMouseOut:this.MouseOut},r.a.createElement("div",{className:"img-panel"},"Website"===t.FileType&&r.a.createElement("img",{src:t.thumbnail,width:"100%",height:"100%"}),!("Website"===t.FileType)&&r.a.createElement("img",{src:"https://drive.google.com/thumbnail?authuser=0&sz=w320&id=".concat(t.DocID),width:"100%",height:"100%",alt:"No image for this doc"}),r.a.createElement("span",{className:this.state.Hover?"x-doc-btn":"x-doc-btn display-none",onClick:this.removeDoc},"\xd7"),r.a.createElement("button",{className:this.state.Hover?"quick-view-btn":"quick-view-btn display-none",onClick:this.showQuickViewModal},"Preview"),r.a.createElement("button",{className:this.state.Hover?"view-btn":"view_btn display-none",onClick:this.view},"Open")),r.a.createElement("div",{className:"title-bar"},r.a.createElement("p",{className:"text-center"},t.Title)))}}]),t}(r.a.Component),Qe=a(62),Ye=(a(125),["https://www.googleapis.com/auth/drive"]),Je=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).hideModal=function(){a.setState({show:!1})},a.showModal=function(){a.setState({show:!0})},a.showShareModal=function(){a.setState({showShareModal:!0})},a.hideShareModal=function(){a.setState({showShareModal:!1})},a.showQuickViewModal=function(e){a.setState({doc_id:e}),a.setState({showQuickViewModal:!0}),a.props.searchdata.collection_detail.docs.map(function(t,n){n===e&&a.setState({info:t})})},a.hideQuickViewModal=function(){a.setState({showQuickViewModal:!1})},a.showNewDocModal=function(){a.setState({showNewDocModal:!0})},a.hideNewDocModal=function(){a.setState({showNewDocModal:!1})},a.changeInput=function(){a.setState({changeInput:!0})},a.changeTitle=function(e){a.props.searchdata.collection_detail.title=e.target.value},a.changeDescription=function(e){a.props.searchdata.collection_detail.description=e.target.value},a.changeColTitle=function(){""!==a.props.searchdata.collection_detail.title&&""!==a.props.searchdata.collection_detail.description&&a.props.changeColTitle(a.props.searchdata.collection_detail.title,a.props.searchdata.collection_detail.description,a.props.match.params.collection_id),a.setState({changeInput:!1})},a.removeDoc=function(e){a.props.searchdata.collection_detail.docs.map(function(t,n){n===e&&a.props.removeDoc(t.DocID,a.props.match.params.collection_id)})},a.state={show:!1,picked_file:null,showShareModal:!1,showQuickViewModal:!1,showNewDocModal:!1,changeInput:!1,collection_title:"",collection_description:"",doc_id:0,email:"",copied:!1,info:{},isWebResource:!1},a.getEmail=a.getEmail.bind(Object(F.a)(Object(F.a)(a))),a.shareCollection=a.shareCollection.bind(Object(F.a)(Object(F.a)(a))),a.view=a.view.bind(Object(F.a)(Object(F.a)(a))),a.pickerCallback=a.pickerCallback.bind(Object(F.a)(Object(F.a)(a))),a.selectAssessment=a.selectAssessment.bind(Object(F.a)(Object(F.a)(a))),a.selectPlan=a.selectPlan.bind(Object(F.a)(Object(F.a)(a))),a.selectResource=a.selectResource.bind(Object(F.a)(Object(F.a)(a))),a.addWebResource=a.addWebResource.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){P.a.load("client:auth2",this.initClient)}},{key:"initClient",value:function(){P.a.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive"}).then(function(){console.log("it worked")})}},{key:"componentDidMount",value:function(){void 0===this.props.match.params.uuid?this.props.getCollectionDetail(this.props.match.params.collection_id):this.props.getCollectionDetailFromUUID(this.props.match.params.uuid)}},{key:"addWebResource",value:function(){""!==this.props.match.params.collection_id?(this.setState({isWebResource:!0}),this.setState({showNewDocModal:!1}),this.showModal()):alert("Save collection title and description first.")}},{key:"selectAssessment",value:function(){localStorage.setItem("DocType","Assessment"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.match.params.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"selectPlan",value:function(){localStorage.setItem("DocType","Plan"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.match.params.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"selectResource",value:function(){localStorage.setItem("DocType","Resource"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.match.params.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"pickerCallback",value:function(e){if("picked"==e.action){var t=e.docs[0];localStorage.setItem("file",JSON.stringify(t)),localStorage.setItem("collection_id",this.props.match.params.collection_id),console.log(t),console.log(localStorage),this.setState({show:!0});var a=P.a.auth.getToken().access_token;this.props.getThumbnailLink(t.id,a)}}},{key:"view",value:function(){window.open(this.state.info.Url,"_blank")}},{key:"getEmail",value:function(e){this.setState({email:e.target.value})}},{key:"shareCollection",value:function(){""!==this.state.email&&this.props.shareCollection(this.state.email,this.props.match.params.collection_id)}},{key:"render",value:function(){var e=this;if(console.log(this.props.searchdata.collection_detail),this.props.searchdata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));var t=new URLSearchParams(this.props.location.search).get("new"),a=[];this.props.searchdata.collection_detail.docs.map(function(n,o){a.push(r.a.createElement(ze,{quickView:e.showQuickViewModal,isNew:!1,info:n,docID:o,key:o,newDoc:t,removeDoc:e.removeDoc}))});var n=[],o=[];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(He,{mouseHover:this.mouseHover,mouseOut:this.MouseOut})),r.a.createElement("div",{className:"col-md-8"},!this.state.changeInput&&r.a.createElement("div",{onClick:this.changeInput},r.a.createElement("h5",{className:"col-title"},this.props.searchdata.collection_detail.title),r.a.createElement("p",{className:""===this.props.searchdata.collection_detail.description?"":"col-title"},""===this.props.searchdata.collection_detail.description&&"Enter an Optional collection description",""!==this.props.searchdata.collection_detail.description&&this.props.searchdata.collection_detail.description)),this.state.changeInput&&r.a.createElement("div",{style:{width:"60%"}},r.a.createElement("input",{type:"text",onChange:this.changeTitle,style:{marginBottom:"20px"},placeholder:"Enter a Collection Name",defaultValue:this.props.searchdata.collection_detail.title}),r.a.createElement("input",{type:"text",onChange:this.changeDescription,style:{marginBottom:"20px"},placeholder:"Enter an Optional collection description",defaultValue:this.props.searchdata.collection_detail.description}),r.a.createElement("button",{className:"btn-small float-right",onClick:this.changeColTitle},"Save")),r.a.createElement("div",{className:"btn-container"},void 0===this.props.match.params.uuid&&r.a.createElement("button",{className:"btn mt-4",id:"backBtn",onClick:this.showShareModal},"Share")))),r.a.createElement("div",{className:"row mt-5"},a,r.a.createElement(ze,{isNew:!0,showNewDocModal:this.showNewDocModal})),r.a.createElement(ne,{show:this.state.showShareModal,handleClose:this.hideShareModal},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11 text-center"},r.a.createElement("h3",null,"Share your collections"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null,"Why reinvent the wheel? Share the best resources with your peers!"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("input",{type:"email",placeholder:"Email",value:this.state.email,onChange:this.getEmail}),r.a.createElement("button",{className:"btn",onClick:this.shareCollection},"Share"))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null,"or"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(Qe.CopyToClipboard,{text:"".concat("http://localhost:3000","/").concat(this.props.searchdata.collection_detail.uuid),onCopy:function(){return e.setState({copied:!0})}},r.a.createElement("button",{className:"btn"},r.a.createElement("img",{src:"/static/images/Chain-Link.png"}),r.a.createElement("br",null),"Copy Link")),r.a.createElement("p",null,"coteacher.com/",this.props.searchdata.collection_detail.uuid)))),r.a.createElement(ne,{show:this.state.showQuickViewModal,handleClose:this.hideQuickViewModal},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("img",{src:"https://drive.google.com/thumbnail?authuser=0&sz=w320&id=".concat(this.state.info.DocID),className:"modal-img"})),r.a.createElement("div",{className:"col-md-7 info-section"},r.a.createElement("div",{className:"header-info"},r.a.createElement("h5",null,this.state.info.Title),r.a.createElement("p",null,this.props.searchdata.collection_detail.role,", ",this.props.searchdata.collection_detail.school),r.a.createElement("p",null,"Grade ",this.state.info.Grade,", ",this.state.info.Subject)),r.a.createElement("div",null,r.a.createElement("p",null),r.a.createElement("p",null,"File Type: ",this.state.info.FileType),r.a.createElement("p",null,"Material Type: ",this.state.info.DocType),r.a.createElement("p",null,"Document Tags"),void 0!==this.state.info.General_Tags&&this.state.info.General_Tags.map(function(e,t){n.push(r.a.createElement("span",{key:t,className:"modal-general-tag"},e))}),r.a.createElement("p",null,n),r.a.createElement("p",null,"Standards"),void 0!==this.state.info.Standards&&this.state.info.Standards.map(function(e,t){o.push(r.a.createElement("span",{key:t,className:"modal-general-tag"},e))}),r.a.createElement("p",null,o),r.a.createElement("p",null,"Date Posted: ",this.state.info.DateShared)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn mt-4",onClick:this.view},"Open"))))),r.a.createElement(ne,{show:this.state.showNewDocModal,handleClose:this.hideNewDocModal},r.a.createElement("div",{className:"row text-center mt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("div",null,r.a.createElement("h5",null,"You haven't saved any resources yet!"),r.a.createElement("p",null,"Save your favourite educational resources from all over the",r.a.createElement("br",null),"internet and your Drive all in one place. Get started:")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement(ae.a,{clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",developerKey:"AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0",scope:Ye,onChange:function(e){return console.log("on change:",e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,mimeTypes:["image/png","image/jpeg","image/jpg"],viewId:"DOCS",createPicker:function(t,a){if(""!==e.props.match.params.collection_id){var n=t.picker.ViewId.DOCS;new t.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.docs").setSelectFolderEnabled(!1);(new window.google.picker.PickerBuilder).addView((new t.picker.DocsView).setIncludeFolders(!0).setOwnedByMe(!0)).setOAuthToken(a).setDeveloperKey("AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0").setCallback(e.pickerCallback).build().setVisible(!0),e.setState({showNewDocModal:!1})}else alert("Save collection title and description first.")}},r.a.createElement("button",{className:"btn mt-4"},"Upload from",r.a.createElement("br",null)," My Drive"),r.a.createElement("div",{className:"google"}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{className:"btn mt-4",onClick:this.addWebResource},"Add a Resource",r.a.createElement("br",null),"from the Web"))),r.a.createElement("div",{className:"row mt-4"})),r.a.createElement(ne,{show:this.state.show,handleClose:this.hideModal},r.a.createElement("h3",{className:"text-center"},"What is this document?"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectAssessment}," An Assessment"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectPlan},"A Plan"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectResource},"A Resource"))))}}]),t}(r.a.Component),Xe=Object(h.d)(Je);var Ze=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getCollectionDetail:function(t){return e(Object(L.e)(t))},shareCollection:function(t,a){return e(Object(L.t)(t,a))},getCollectionDetailFromUUID:function(t){return e(Object(L.f)(t))},changeColTitle:function(t,a,n){return e(Object(L.a)(t,a,n))},getThumbnailLink:function(t,a){return e(Object(L.l)(t,a))},removeDoc:function(t,a){return e(Object(L.q)(t,a))}}})(Xe),$e=function(e){e.github_auth,e.goog_auth,e.collection_id;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(Ze,null))},et=Object(_.b)(function(e,t){return{goog_auth:e.goog_auth,github_auth:e.github_auth,collection_id:t.match.params.collection_id}})($e),tt=function(e,t){return""===e.getRow().getData().iconUrl?"<img src='/static/images/www-icon.png' />":"<img src='"+e.getRow().getData().iconUrl+"' />"},at=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getMyData()}},{key:"rowClick",value:function(e,t){console.log(t.getData().url),window.open(t.getData().url,"_blank")}},{key:"handleClick",value:function(){window.location="/home"}},{key:"render",value:function(){var e=this,t=[{title:"",field:"thumbnail",align:"center",formatter:tt,width:"5%"},{title:"Documents matching your search:",field:"name",width:"28%"},{title:"Contributor",field:"owner",width:"15%"},{title:"Type",field:"DocType",width:"12%"},{title:"Standards",field:"standard",width:"20%"},{title:"Tags",field:"tags",width:"15%"},{title:"",field:"remove",width:"3%",align:"center",formatter:"buttonCross",cellClick:function(t,a){t.stopPropagation(),e.props.removeDocOnFind(a.getRow().getData().doc_id)}},{title:"",field:"iconUrl",visible:!1},{title:"",field:"url",visible:!1},{title:"",field:"doc_id",visible:!1}];if(console.log("----"+this.props.searchdata.searchdata),this.props.searchdata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));return r.a.createElement("div",{className:"container text-center",style:{display:"block"}},r.a.createElement("h2",null,"Shared with Coteacher"),r.a.createElement("div",{className:"mt-4"},r.a.createElement(re.ReactTabulator,{ref:function(t){return e.ref=t},columns:t,data:this.props.searchdata.searchdata,rowClick:this.rowClick,options:{height:"500px",movableRows:!0},"data-custom-attr":"test-custom-attribute",className:"custom-css-class"})),r.a.createElement("button",{className:"btn float-right mt-4",id:"saveBtn",onClick:this.handleClick},"Add More"))}}]),t}(r.a.Component),nt=Object(h.d)(at);var rt=Object(_.b)(function(e){return{searchdata:e.searchdata}},function(e){return{getMyData:function(){return e(Object(L.h)())},removeDocOnFind:function(t){return e(Object(L.r)(t))}}})(nt),ot=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(rt,null))},lt=(Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(ot),["https://www.googleapis.com/auth/drive"]),st=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).hideModal=function(){a.setState({show:!1})},a.showModal=function(){a.setState({show:!0})},a.goBack=function(){window.history.back()},a.showShareModal=function(){a.setState({showShareModal:!0})},a.hideShareModal=function(){a.setState({showShareModal:!1})},a.showQuickViewModal=function(e){a.setState({doc_id:e}),a.setState({showQuickViewModal:!0}),a.props.searchdata.collection_detail.docs.map(function(t,n){n===e&&a.setState({info:t})})},a.hideQuickViewModal=function(){a.setState({showQuickViewModal:!1})},a.showNewDocModal=function(){a.setState({showNewDocModal:!0})},a.hideNewDocModal=function(){a.setState({showNewDocModal:!1})},a.changeInput=function(){a.setState({changeInput:!0})},a.changeTitle=function(e){a.setState({collection_title:e.target.value})},a.changeDescription=function(e){a.setState({collection_description:e.target.value})},a.changeColTitle=function(){""!==a.state.collection_title&&a.props.createCollection(a.state.collection_title,a.state.collection_description,a.props.collectiondata.uuid,localStorage.getItem("GmailID")),a.setState({changeInput:!1})},a.state={show:!1,picked_file:null,showShareModal:!1,showQuickViewModal:!1,showNewDocModal:!1,changeInput:!1,collection_title:"",collection_description:"",doc_id:0,email:"",copied:!1,info:{},isWebResource:!1},a.getEmail=a.getEmail.bind(Object(F.a)(Object(F.a)(a))),a.shareCollection=a.shareCollection.bind(Object(F.a)(Object(F.a)(a))),a.view=a.view.bind(Object(F.a)(Object(F.a)(a))),a.pickerCallback=a.pickerCallback.bind(Object(F.a)(Object(F.a)(a))),a.selectAssessment=a.selectAssessment.bind(Object(F.a)(Object(F.a)(a))),a.selectPlan=a.selectPlan.bind(Object(F.a)(Object(F.a)(a))),a.selectResource=a.selectResource.bind(Object(F.a)(Object(F.a)(a))),a.addWebResource=a.addWebResource.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){P.a.load("client:auth2",this.initClient)}},{key:"initClient",value:function(){P.a.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive"}).then(function(){console.log("it worked")})}},{key:"addWebResource",value:function(){""!==this.props.collectiondata.collection_id?(this.setState({isWebResource:!0}),this.showModal()):alert("Save collection title and description first.")}},{key:"selectAssessment",value:function(){localStorage.setItem("DocType","Assessment"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.collectiondata.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"selectPlan",value:function(){localStorage.setItem("DocType","Plan"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.collectiondata.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"selectResource",value:function(){localStorage.setItem("DocType","Resource"),this.state.isWebResource?(localStorage.setItem("collection_id",this.props.collectiondata.collection_id),window.location="/upload-web-resource"):window.location="/upload"}},{key:"pickerCallback",value:function(e){if("picked"==e.action){var t=e.docs[0];localStorage.setItem("file",JSON.stringify(t)),localStorage.setItem("collection_id",this.props.collectiondata.collection_id),console.log(t),console.log(localStorage),this.setState({show:!0});var a=P.a.auth.getToken().access_token;this.props.getThumbnailLink(t.id,a)}}},{key:"view",value:function(){window.open(this.state.info.Url,"_blank")}},{key:"getEmail",value:function(e){this.setState({email:e.target.value})}},{key:"shareCollection",value:function(){""!==this.state.email&&this.props.shareCollection(this.state.email,this.props.collectiondata.collection_id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn",onClick:this.goBack},"Back"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(He,{mouseHover:this.mouseHover,mouseOut:this.MouseOut,isEmpty:!0})),r.a.createElement("div",{className:"col-md-8"},!this.state.changeInput&&r.a.createElement("div",{onClick:this.changeInput},r.a.createElement("h5",{className:"col-title"},""===this.state.collection_title&&"Enter a Collection Name",""!==this.state.collection_title&&this.state.collection_title),r.a.createElement("p",{className:""===this.state.collection_description?"":"col-title"},""===this.state.collection_description&&"Enter an Optional collection description",""!==this.state.collection_description&&this.state.collection_description)),this.state.changeInput&&r.a.createElement("div",{style:{width:"60%"}},r.a.createElement("input",{type:"text",onChange:this.changeTitle,style:{marginBottom:"20px"},placeholder:"Enter a Collection Name",defaultValue:this.state.collection_title}),r.a.createElement("input",{type:"text",onChange:this.changeDescription,style:{marginBottom:"20px"},placeholder:"Enter an Optional collection description",defaultValue:this.state.collection_description}),r.a.createElement("button",{className:"btn-small float-right",onClick:this.changeColTitle},"Save")),r.a.createElement("div",{className:"btn-container"},""!==this.props.collectiondata.uuid&&r.a.createElement("button",{className:"btn mt-4",id:"backBtn",onClick:this.showShareModal},"Share")))),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement("div",{className:"row text-center mt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("div",null,r.a.createElement("h5",null,"You haven't saved any resources yet!"),r.a.createElement("p",null,"Save your favourite educational resources from all over the",r.a.createElement("br",null),"internet and your Drive all in one place. Get started:")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement(ae.a,{clientId:"955570269964-oh0iqqd210p35g3ms21qni9pdocess6v.apps.googleusercontent.com",developerKey:"AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0",scope:lt,onChange:function(e){return console.log("on change:",e)},onAuthFailed:function(e){return console.log("on auth failed:",e)},multiselect:!0,navHidden:!0,authImmediate:!1,mimeTypes:["image/png","image/jpeg","image/jpg"],viewId:"DOCS",createPicker:function(t,a){if(""!==e.props.collectiondata.collection_id){var n=t.picker.ViewId.DOCS;new t.picker.DocsView(n).setIncludeFolders(!0).setMimeTypes("application/vnd.google-apps.docs").setSelectFolderEnabled(!1);(new window.google.picker.PickerBuilder).addView((new t.picker.DocsView).setIncludeFolders(!0).setOwnedByMe(!0)).setOAuthToken(a).setDeveloperKey("AIzaSyC8SoCeWcw7vGXrqHUqWODn0gYKxQsnPE0").setCallback(e.pickerCallback).build().setVisible(!0)}else alert("Save collection title and description first.")}},r.a.createElement("button",{className:"btn mt-4"},"Upload from",r.a.createElement("br",null)," My Drive"),r.a.createElement("div",{className:"google"}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{className:"btn mt-4",onClick:this.addWebResource},"Add a Resource",r.a.createElement("br",null),"from the Web"))),r.a.createElement("div",{className:"row mt-4"}),r.a.createElement(ne,{show:this.state.showShareModal,handleClose:this.hideShareModal},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11 text-center"},r.a.createElement("h3",null,"Share your collections"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null,"Why reinvent the wheel? Share the best resources with your peers!"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("input",{type:"email",placeholder:"Email",value:this.state.email,onChange:this.getEmail}),r.a.createElement("button",{className:"btn",onClick:this.shareCollection},"Share"))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("p",null,"or"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement(Qe.CopyToClipboard,{text:"".concat("http://localhost:3000","/").concat(this.props.collectiondata.uuid),onCopy:function(){return e.setState({copied:!0})}},r.a.createElement("button",{className:"btn"},r.a.createElement("img",{src:"/static/images/Chain-Link.png"}),r.a.createElement("br",null),"Copy Link")),r.a.createElement("p",null,"coteacher.com/",this.props.collectiondata.uuid)))),r.a.createElement(ne,{show:this.state.show,handleClose:this.hideModal},r.a.createElement("h3",{className:"text-center"},"What is this document?"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectAssessment}," An Assessment"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectPlan},"A Plan"),r.a.createElement("button",{className:"btn inline-btn",onClick:this.selectResource},"A Resource"))))}}]),t}(r.a.Component),ct=Object(h.d)(st);var it=Object(_.b)(function(e){return{collectiondata:e.collectiondata}},function(e){return{createCollection:function(t,a,n,r){return e(Object(L.b)(t,a,n,r))},getThumbnailLink:function(t,a){return e(Object(L.l)(t,a))}}})(ct),dt=function(e){e.github_auth,e.goog_auth,e.collection_id;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(it,null))},ut=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(dt),_t=(a(325),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).onSubjectTriggerwordSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),n=t.length,r=n<=0?[]:a.props.cordata.cordata.subject_triggerword.filter(function(e){return e.label.toLowerCase().slice(0,n)===t});a.setState({subject_triggerword_suggestions:r})},a.onSubjectTriggerwordChange=function(e,t){var n=t.newValue;a.setState({selected_subject_triggerword:n}),a.props.getStrand(n,a.state.selected_grade_triggerword)},a.getSubjectTriggerwordSuggestionValue=function(e){return e.label},a.onSubjectTriggerwordSuggestionsClearRequested=function(){a.setState({subject_triggerword_suggestions:[]})},a.renderSubjectTriggerwordSuggestion=function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.label))},a.onGradeTriggerwordSuggestionsFetchRequested=function(e){var t=e.value.trim().toLowerCase(),n=t.length,r=n<=0?[]:a.props.cordata.cordata.grade_triggerword.filter(function(e){return e.label.toLowerCase().slice(0,n)===t});a.setState({grade_triggerword_suggestions:r})},a.onGradeTriggerwordChange=function(e,t){var n=t.newValue;a.setState({selected_grade_triggerword:n}),a.props.getStrand(a.state.selected_subject_triggerword,n)},a.getGradeTriggerwordSuggestionValue=function(e){return a.props.getStrand(a.state.selected_subject_triggerword,e.label),e.label},a.onGradeTriggerwordSuggestionsClearRequested=function(){a.setState({grade_triggerword_suggestions:[]})},a.renderGradeTriggerwordSuggestion=function(e){return r.a.createElement("div",null,r.a.createElement("span",null,e.label))},a.resetThenSetStrand=function(e,t){a.props.getStandard(a.state.selected_subject_triggerword,a.state.selected_grade_triggerword,e)},a.resetThenSetStandard=function(e,t){a.setState({isSelectedStandardNumber:!0}),a.setState({selected_standard:e})},a.handleAdditionGeneralTags=function(e){a.setState(function(t){return{selected_general_tags:[].concat(Object(U.a)(t.selected_general_tags),[e])}})},a.handleDeleteGeneralTags=function(e){var t=a.state.selected_general_tags;a.setState({selected_general_tags:t.filter(function(t,a){return a!==e})})},a.changeColDefaultTitle=function(e){a.setState({col_default_title:e}),console.log(e)},a.changeColNewTitle=function(e){a.setState({col_new_title:e}),console.log(e)},a.getWebThumbnail=function(){a.props.getWebThumbnail(a.state.web_url)},a.state={web_url:"",selectedCol:"default",hide_optional:!0,changed_text:"Show more",selected_subject_triggerword:"",subject_triggerword_suggestions:[],selected_grade_triggerword:"",grade_triggerword_suggestions:[],selected_strand:null,selected_standard:null,selected_methods:null,selected_general_tags:[],standard_set:"",isSelectedStandardNumber:!1,col_default_title:localStorage.getItem("goog_name").split(" ")[0]+"'s First Collection",col_new_title:"New Collection"},a.handleClick=a.handleClick.bind(Object(F.a)(Object(F.a)(a))),a.goBack=a.goBack.bind(Object(F.a)(Object(F.a)(a))),a.showOptional=a.showOptional.bind(Object(F.a)(Object(F.a)(a))),a.selectCol=a.selectCol.bind(Object(F.a)(Object(F.a)(a))),a.changeWebUrl=a.changeWebUrl.bind(Object(F.a)(Object(F.a)(a))),a}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.getCorData()}},{key:"changeWebUrl",value:function(e){this.setState({web_url:e.target.value})}},{key:"showOptional",value:function(){this.state.hide_optional?(this.setState({hide_optional:!this.state.hide_optional}),this.setState({changed_text:"Show Less"})):(this.setState({hide_optional:!this.state.hide_optional}),this.setState({changed_text:"Show More"}))}},{key:"selectCol",value:function(e){this.setState({selectedCol:e})}},{key:"handleClick",value:function(){var e={Title:this.state.web_url,GmailID:localStorage.getItem("GmailID"),DocID:this.state.web_url,DocType:localStorage.getItem("DocType"),collection_pk:"default"===this.state.selectedCol&&null!==localStorage.getItem("collection_id")?localStorage.getItem("collection_id"):this.state.selectedCol,selected_general_tags:this.state.selected_general_tags,ServiceType:"Website",iconUrl:"/static/images/www-icon.png",url:this.state.web_url,standard_pk:this.state.selected_standard,selected_subject_triggerword:this.state.selected_subject_triggerword,selected_grade_triggerword:this.state.selected_grade_triggerword,col_default_title:this.state.col_default_title,col_new_title:this.state.col_new_title,first_name:localStorage.getItem("goog_name").split(" ")[0],web_thumbnail:this.props.cordata.web_thumbnail};this.props.registerFile(e)}},{key:"goBack",value:function(){window.history.back()}},{key:"render",value:function(){var e=this;if(this.props.cordata.isFetching)return r.a.createElement("div",{className:"spinner-padding"},r.a.createElement(B.a,{size:50,spinnerColor:"#333",spinnerWidth:2,visible:!0}));var t=this.state,a=t.selected_subject_triggerword,n=t.subject_triggerword_suggestions,o={placeholder:"Type your school name",value:a,onChange:this.onSubjectTriggerwordChange},l=this.state,s=l.selected_grade_triggerword,c=l.grade_triggerword_suggestions,i={placeholder:"Type your school name",value:s,onChange:this.onGradeTriggerwordChange},d=[];return this.props.cordata.cordata.collections&&this.props.cordata.cordata.collections.length&&this.props.cordata.cordata.collections.map(function(t,a){d.push(r.a.createElement(he,{CollectionID:t.id,Title:t.Title,SelectedCol:e.state.selectedCol,HandleClick:e.selectCol,key:a}))}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"Add Resource from the Web to Collection"),r.a.createElement("p",null,"Enter the URL of the website you wish to save"),r.a.createElement("div",{className:"input-group row"},r.a.createElement("div",{className:"col-md-7"},r.a.createElement("div",{className:"mt-2"},r.a.createElement("label",{className:"school text-align-right"},"What is the web address of your resource?"),r.a.createElement("input",{type:"text",value:this.state.web_url,onChange:this.changeWebUrl,placeholder:"Type Web Url",className:"w-70"}),r.a.createElement("button",{className:"btn btn-small1",onClick:this.getWebThumbnail},"Confirm")),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Subject(s):"),r.a.createElement(H.a,{suggestions:n,onSuggestionsFetchRequested:this.onSubjectTriggerwordSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSubjectTriggerwordSuggestionsClearRequested,getSuggestionValue:this.getSubjectTriggerwordSuggestionValue,renderSuggestion:this.renderSubjectTriggerwordSuggestion,inputProps:o})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Grade(s):"),r.a.createElement(H.a,{suggestions:c,onSuggestionsFetchRequested:this.onGradeTriggerwordSuggestionsFetchRequested,onSuggestionsClearRequested:this.onGradeTriggerwordSuggestionsClearRequested,getSuggestionValue:this.getGradeTriggerwordSuggestionValue,renderSuggestion:this.renderGradeTriggerwordSuggestion,inputProps:i})),this.props.cordata.strand.length>0&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,this.props.cordata.standard_set),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12",style:{width:"100%"}},r.a.createElement("h6",null,"Strand:"),r.a.createElement(me.Dropdown,{title:"Select Strand",list:this.props.cordata.strand,resetThenSet:this.resetThenSetStrand})))),this.props.cordata.standard.length>0&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h6",null,"Standard:"),r.a.createElement(ve,{title:"Select Standard Number",list:this.props.cordata.standard,resetThenSet:this.resetThenSetStandard})))),this.state.isSelectedStandardNumber&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Tags:"),r.a.createElement(W.WithContext,{tags:this.state.selected_general_tags,suggestions:this.props.cordata.cordata.general_tags,handleDelete:this.handleDeleteGeneralTags,handleAddition:this.handleAdditionGeneralTags,allowDragDrop:!1,labelField:"label",placeholder:"Add tags"})),!this.state.hide_optional&&r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,"Add this document to a collection:"),r.a.createElement("div",{className:"outer-div"},r.a.createElement("div",{className:"inner-div"},d,r.a.createElement(ge,{CollectionID:"default",Title:localStorage.getItem("goog_name").split(" ")[0]+"'s First Collection",SelectedCol:this.state.selectedCol,HandleClick:this.selectCol,changeColTitle:this.changeColDefaultTitle}),r.a.createElement(ge,{CollectionID:"new",Title:"Add New Collection",SelectedCol:this.state.selectedCol,HandleClick:this.selectCol,changeColTitle:this.changeColNewTitle})))),r.a.createElement("div",{className:"mt-4"},r.a.createElement("a",{href:"#",onClick:this.showOptional},this.state.changed_text),r.a.createElement("p",null)),r.a.createElement("button",{className:"btn mt-4",id:"backBtn",onClick:this.goBack},"Back"),r.a.createElement("button",{className:"btn float-right mt-4",id:"saveBtn",onClick:this.handleClick},"Save")),r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",{className:"thumbnail-wrapper"},r.a.createElement("img",{src:this.props.cordata.web_thumbnail,className:"web-thumbnail"})))))}}]),t}(r.a.Component)),pt=Object(h.d)(_t);var ht=Object(_.b)(function(e){return{cordata:e.cordata}},function(e){return{getCorData:function(){return e(Object(L.g)())},registerFile:function(t){return e(Object(L.o)(t))},getStrand:function(t,a){return e(Object(L.k)(t,a))},getStandard:function(t,a,n){return e(Object(L.j)(t,a,n))},getWebThumbnail:function(t){return e(Object(L.m)(t))}}})(pt),gt=function(e){e.github_auth,e.goog_auth;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),r.a.createElement(ht,null))},mt=Object(_.b)(function(e){return{goog_auth:e.goog_auth,github_auth:e.github_auth}})(gt),bt=a(141),ft=function(e){var t=e.component,a=(e.community,Object(bt.a)(e,["component","community"]));return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return function(){var e=localStorage.getItem("GmailID"),t=localStorage.getItem("isRegistered");return!(!e||"true"!==t)}()?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/"}})}}))},Et=a(36),vt=a(13),wt={err:null,isAuthenticated:!1,isAuthenticating:!1,isRegistered:!1,isLogin:!1,token_data:{}};var St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOOG_IS_AUTHENTICATING":return Object(vt.a)({},e,{isAuthenticating:!0,err:null,isAuthenticated:!1,token_data:{}});case"CONVERT_GOOG_TOKEN_SUCCESS":return Object(vt.a)({},e,{err:null,isAuthenticated:!0,isAuthenticating:!1,token_data:t.goog_token});case"CONVERT_GOOG_TOKEN_FAILURE":return Object(vt.a)({},e,{err:t.err,isAuthenticated:!1,isAuthenticating:!1});case"GOOGLE_LOGOUT":return Object(vt.a)({},wt);case"GOOG_AUTHENTICATE_ACTION":return Object(vt.a)({},e,{isAuthenticated:!0});case"LOGIN_SUCCESS":return Object(vt.a)({},e,{err:null,isAuthenticated:!0,isAuthenticating:!1,isLogin:!0});case"LOGIN_FAIL":return Object(vt.a)({},e,{err:null,isAuthenticated:!0,isAuthenticating:!1,isLogin:!1});default:return e}},Ot={isSendingCode:!1,isAuthenticated:!1,err:!1,token_user_obj:{github_token:{},user:{}}};var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SENDING_GITHUB_CODE":return Object(vt.a)({},e,{isSendingCode:!0,err:!1,isAuthenticated:!1});case"SENT_GITHUB_CODE_SUCCESS":return console.log("ACTION TOKEN OBJ",t.token_user_obj),Object(vt.a)({},e,{isSendingCode:!1,token_user_obj:{github_token:t.token_user_obj.token,user:t.token_user_obj.user},isAuthenticated:!0});case"SENT_GITHUB_CODE_FAILURE":return Object(vt.a)({},e,{isSendingCode:!1,err:t.err,isAuthenticated:!1});case"GITHUB_LOGOUT":return Object(vt.a)({},Ot);case"GITHUB_AUTHENTICATE_ACTION":return Object(vt.a)({},e,{isAuthenticated:!0});default:return e}},Dt={basedata:{},err:null,isFetching:!1};function jt(e){console.log(e);var t=[];e.schools.map(function(e){t.push({label:e.Name,city:e.City,state:e.state_abbr})});var a=[];e.roles.map(function(e){a.push({label:e.Title,id:e.Title})});var n=[];e.subjects.map(function(e){n.push({label:e.Name,id:e.Name})});var r=[];e.grades.map(function(e){r.push({label:e.Grade,id:e.Grade})});var o=[];e.student_needs.map(function(e){o.push({label:e.Population,id:e.Population})});var l=[];return e.general_tags.map(function(e){l.push({label:e.Tag,id:e.Tag})}),console.log(t),{schools:t,roles:a,subjects:n,grades:r,student_needs:o,general_tags:l}}var yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUESTING_BASEDATA":return Object(vt.a)({},e,{err:null,isFetching:!0});case"RECEIVE_RESPONSE_BASEDATA":return Object(vt.a)({},e,{basedata:jt(t.resp),isFetching:!1});case"RECEIVE_ERROR_BASEDATA":return Object(vt.a)({},e,{err:t.err,isFetching:!1});case"REGISTER_SUCCESS":case"REGISTER_FAIL":return Object(vt.a)({},e,{err:null,isFetching:!1});default:return e}},kt=a(138),Tt=a(139),Nt={uuid:"",collection_id:""};var It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_RESPONSE_COLLECTION_UUID":return Object(vt.a)({},e,{uuid:t.resp.uuid,collection_id:t.resp.col_id});default:return e}},Rt=Object(s.combineReducers)({router:Et.d,goog_auth:St,github_auth:Ct,basedata:yt,cordata:kt.a,searchdata:Tt.a,collectiondata:It});var At=function(e){var t=e.dispatch;return e.getState,function(e){return function(a){if("function"===typeof a&&localStorage.getItem("goog_access_token_conv")&&localStorage.length>0){var n=localStorage.getItem("goog_access_token_expires_in");console.log("google ID",localStorage.getItem("GmailID"));var r=Math.round((new Date).getTime()/1e3),o=n-r;if(console.log("token time left =======>",o),n&&n-r<=0)return console.log("TOKEN IS EXPIRED"),localStorage.removeItem("goog_access_token_conv"),localStorage.removeItem("goog_refresh_token_conv"),localStorage.removeItem("goog_access_token_expires_in"),localStorage.removeItem("goog_avatar_url"),localStorage.removeItem("goog_name"),localStorage.removeItem("goog_email"),localStorage.removeItem("GmailID"),t(Object(Et.b)("/")),t({type:"GOOGLE_LOGOUT"});if(!(n&&n-r<=1800))return e(a);var l=new E.a;l.set("grant_type","refresh_token"),l.set("client_id",w),l.set("client_secret",S),l.set("refresh_token",localStorage.getItem("goog_refresh_token_conv")),fetch("".concat(v,"/auth/token/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:l}).then(function(e){return e.json()}).then(function(e){return t(function(e){return{type:"CONVERT_GOOG_TOKEN_SUCCESS",goog_token:e}}(e))}).then(function(){return e(a)})}return e(a)}}},Pt=a(58),xt=a.n(Pt)()(),Mt=Object(Et.c)(xt),Lt=Object(s.createStore)(Rt,Object(p.composeWithDevTools)(Object(s.applyMiddleware)(Mt,At,i.a,u.a)));localStorage.getItem("goog_access_token_conv")&&Lt.dispatch({type:"GOOG_AUTHENTICATE_ACTION"}),localStorage.getItem("github_access_token_conv")&&Lt.dispatch({type:"GITHUB_AUTHENTICATE_ACTION"}),l.a.render(r.a.createElement(_.a,{store:Lt},r.a.createElement(Et.a,{history:xt},r.a.createElement("div",null,r.a.createElement(h.c,null,r.a.createElement(h.b,{exact:!0,path:"/",component:X}),r.a.createElement(ft,{exact:!0,path:"/home",component:pe}),r.a.createElement(ft,{exact:!0,path:"/upload",component:De}),r.a.createElement(ft,{exact:!0,path:"/find",component:Ie}),r.a.createElement(ft,{exact:!0,path:"/collection",component:Ue}),r.a.createElement(ft,{exact:!0,path:"/community",component:Ve}),r.a.createElement(ft,{exact:!0,path:"/collection/:collection_id",component:et}),r.a.createElement(ft,{exact:!0,path:"/new-collection",component:ut}),r.a.createElement(ft,{exact:!0,path:"/upload-web-resource",component:mt}),r.a.createElement(ft,{exact:!0,path:"/:uuid",component:et}))))),document.getElementById("root"))},38:function(e,t,a){},50:function(e,t,a){},75:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRegExpFromDelimiters=function(e){var t=e.map(function(e){var t=e-48*Math.floor(e/48);return String.fromCharCode(96<=e?t:e)}).join(""),a=(0,o.default)(t);return new RegExp("["+a+"]+")},t.canDrag=function(e){var t=e.moveTag,a=e.readOnly,n=e.allowDragDrop;return void 0!==t&&!a&&n},t.canDrop=function(e){var t=e.readOnly,a=e.allowDragDrop;return!t&&a};var n,r=a(262),o=(n=r)&&n.__esModule?n:{default:n}},81:function(e,t,a){},82:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.7a73c248.chunk.js.map